<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="about.html" /><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Managing Locators" href="robot-locators.html" /><link rel="prev" title="Automate Data Operations" href="data.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->
        <title>Acceptance Testing with Robot Framework - CumulusCI 4.6.0.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">CumulusCI 4.6.0.dev1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">CumulusCI 4.6.0.dev1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="get-started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">The <code class="docutils literal notranslate"><span class="pre">cci</span></code> Command Line</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="config.html">Configure CumulusCI</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Configure CumulusCI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">Configure Metadata Deployment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scratch-orgs.html">Manage Scratch Orgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="connected-orgs.html">Connect Persistent Orgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Develop a Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Automate Data Operations</a></li>
<li class="toctree-l1 current has-children current-page"><a class="current reference internal" href="#">Acceptance Testing with Robot Framework</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Acceptance Testing with Robot Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="robot-locators.html">Managing Locators</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-advanced.html">Robot Advanced Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-tutorial.html">Robot Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-debugger.html">Robot Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-playwright.html">Playwright Technology Preview</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="continuous-integration.html">Continuous Integration</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Continuous Integration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cumulusci-flow.html">CumulusCI Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="github-actions.html">Run CumulusCI from GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="2gp-testing.html">Testing with Second-Generation Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="headless.html">Run CumulusCI Headlessly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="packaging.html">Release Managed and Unlocked Packages</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Release Managed and Unlocked Packages</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="managed-package.html">Release a First-Generation Managed Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="managed-2gp.html">Release a Second-Generation Managed Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="unlocked-package.html">Release an Unlocked Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="npsp-eda-2gp.html">Extend NPSP and EDA with Second-Generation Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes.html">Generate Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="push-upgrades.html">Manage Push Upgrades</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="unpackaged.html">Manage Unpackaged Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Manage Unpackaged Configuration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="metadata-etl.html">Metadata ETL</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cheat-sheet.html">Cheat Sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="flows.html">Flow Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="env-var-reference.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="org_config-reference.html">org_config Object Reference</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="about.html">About CumulusCI</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of About CumulusCI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contribute to CumulusCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html">History</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/robot.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="acceptance-testing-with-robot-framework">
<span id="id1"></span><h1>Acceptance Testing with Robot Framework<a class="headerlink" href="#acceptance-testing-with-robot-framework" title="Link to this heading">¶</a></h1>
<p>CumulusCI comes with a testing framework called <a class="reference external" href="https://robotframework.org/">Robot
Framework</a> (or just Robot), which is
specifically for writing acceptance tests. These are typically
end-to-end tests that verify that the high-level requirements of a
project have been satisfied. (Think “Add a new student and verify they
have been assigned a mentor” or “Create a case plan when the student
is not enrolled in a program”.) Usually, this involves automating a
browser session with Salesforce, but Robot can also be used to test new
APIs created by your team.</p>
<p>Later sections of this document will show you how to write tests, call
APIs, create custom keywords, and so on. But first there’s a bit of
manual configuration to do.</p>
<section id="get-started">
<h2>Get Started<a class="headerlink" href="#get-started" title="Link to this heading">¶</a></h2>
<p>The test that comes with CumulusCI opens a browser and performs some
automation. For that to work, you need to install
<a class="reference external" href="https://www.google.com/chrome/">Chrome</a>, and a driver for your specific
version of Chrome. We don’t ship this driver by default because browser
versions are continually updating, and different platforms require
different drivers.</p>
<p>If you don’t already have Chrome on your machine, download and install
it in the default location, and then download the appropriate driver
from the <a class="reference external" href="https://chromedriver.chromium.org/downloads">chromedriver download
page</a>. Download the latest
stable version that corresponds to your Chrome version, and place it
where Robot can find it. This usually means <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code> for Linux
and OSX-based systems. (It can go anywhere as long as it’s on your
PATH.)</p>
<p>For more information, see <a class="reference external" href="https://sites.google.com/chromium.org/driver/getting-started?authuser=0">Getting
Started</a>
on the chromedriver website.</p>
<div class="admonition-fun-fact admonition">
<p class="admonition-title">Fun Fact</p>
<p>You can skip this step and still see Robot in action with CumulusCI. The
tests will fail, but you can still see what it’s like to run a test,
and the output that it produces.</p>
</div>
<section id="you-get-a-test-and-you-get-a-test">
<h3>You Get a Test! And You Get a Test!<a class="headerlink" href="#you-get-a-test-and-you-get-a-test" title="Link to this heading">¶</a></h3>
<p>When you initialize a repository to work with CumulusCI (see <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/get-started.html?highlight=project%20init##start-a-new-cumulusci-project">Start a
new CumulusCI
Project</a>),
you automatically get a preconfigured <code class="docutils literal notranslate"><span class="pre">robot</span></code> task to run all of your
Robot tests at the same time. We also install one example test,
<code class="docutils literal notranslate"><span class="pre">create_contact.robot</span></code>, that shows how to write both browser-based and
API-based tests. In fact, we’ve gone ahead and created a complete
folder hierarchy for tests, test results, and everything else related to
Robot, all starting in a folder named <code class="docutils literal notranslate"><span class="pre">robot</span></code> at the top of your
repository.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;ProjectName&gt;</span>
<span class="go">├── robot</span>
<span class="go">│   └── &lt;ProjectName&gt;</span>
<span class="go">│       ├── doc</span>
<span class="go">│       ├── resources</span>
<span class="go">│       └── tests</span>
<span class="go">│           └── create_contact.robot</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">create_contact.robot</span></code> file is in plain text, so you can open it
with any text editor you have on your machine. One of the features we
love about Robot is that the files are not in a proprietary format.</p>
</div>
</section>
</section>
<section id="run-your-first-test">
<h2>Run Your First Test<a class="headerlink" href="#run-your-first-test" title="Link to this heading">¶</a></h2>
<p>You can run all tests for a project with a simple command line. In case
you don’t have a default org defined, we’ll include instructions on
which scratch org to use.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--org<span class="w"> </span>dev
</pre></div>
</div>
<p>If all goes well, the browser pops up, navigates around a bit, and then
closes. The output on your screen looks something like this, though you
might see additional information about creating the scratch org.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--org<span class="w"> </span>dev
<span class="go">2021-08-04 16:28:32: Getting org info from Salesforce CLI for test-yeqqkbxks2ny@example.com</span>
<span class="go">2021-08-04 16:28:35: Beginning task: Robot</span>
<span class="go">2021-08-04 16:28:35: As user: test-yeqqkbxks2ny@example.com</span>
<span class="go">2021-08-04 16:28:35: In org: 00D0R000000Tz56</span>
<span class="go">2021-08-04 16:28:35:</span>
<span class="go">==============================================================================</span>
<span class="go">Tests</span>
<span class="go">==============================================================================</span>
<span class="go">Tests.Create Contact</span>
<span class="go">==============================================================================</span>
<span class="go">Via API                                                               | PASS |</span>
<span class="go">------------------------------------------------------------------------------</span>
<span class="go">Via UI                                                                | PASS |</span>
<span class="go">------------------------------------------------------------------------------</span>
<span class="go">Tests.Create Contact                                                  | PASS |</span>
<span class="go">2 tests, 2 passed, 0 failed</span>
<span class="go">==============================================================================</span>
<span class="go">Tests                                                                 | PASS |</span>
<span class="go">2 tests, 2 passed, 0 failed</span>
<span class="go">==============================================================================</span>
<span class="go">Output:  /projects/&lt;ProjectName&gt;/robot/&lt;ProjectName&gt;/results/output.xml</span>
<span class="go">Log:     /projects/&lt;ProjectName&gt;/robot/&lt;ProjectName&gt;/results/log.html</span>
<span class="go">Report:  /projects/&lt;ProjectName&gt;/robot/&lt;ProjectName&gt;/results/report.html</span>
</pre></div>
</div>
<p>Notice the three lines at the end that point to an XML file and two HTML
files. These paths will be different on your machine and reflect the
path to your repository. All Robot results go into the
<code class="docutils literal notranslate"><span class="pre">robot/&lt;ProjectName&gt;/results</span></code> folder. These files are overwritten each
time you run your Robot tests.</p>
<p>Robot places all of the test results in <code class="docutils literal notranslate"><span class="pre">output.xml</span></code>, and then generates
<code class="docutils literal notranslate"><span class="pre">log.html</span></code> and <code class="docutils literal notranslate"><span class="pre">report.html</span></code>, which contain two different human-readable
views of the results. <code class="docutils literal notranslate"><span class="pre">log.html</span></code> is more developer-friendly and contains
debugging information. <code class="docutils literal notranslate"><span class="pre">report.html</span></code> is a high-level report of successes
and failures.</p>
<section id="view-log-and-report-files">
<h3>View Log and Report Files<a class="headerlink" href="#view-log-and-report-files" title="Link to this heading">¶</a></h3>
<p>You can open these files in a browser with the <code class="docutils literal notranslate"><span class="pre">open</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>open<span class="w"> </span>robot/&lt;ProjectName&gt;/results/log.html
</pre></div>
</div>
<p><img alt="image" src="_images/robot_log_screenshot.png" /></p>
<p>Feel free to open <code class="docutils literal notranslate"><span class="pre">output.xml</span></code> or <code class="docutils literal notranslate"><span class="pre">report.html</span></code> if you’re curious. In
our experience, <code class="docutils literal notranslate"><span class="pre">log.html</span></code> is the most useful for humans, and it’s the
one we use when reporting test results.</p>
<p>Want to learn more? The next section goes into more detail about why we
love Robot Framework, and how you can write your own tests.</p>
</section>
</section>
<section id="so-why-robot">
<h2>So Why Robot?<a class="headerlink" href="#so-why-robot" title="Link to this heading">¶</a></h2>
<p>Robot is a
<a class="reference external" href="https://robocorp.com/docs/languages-and-frameworks/robot-framework/keywords">keyword-driven</a>
acceptance testing framework, which means that users can write test
cases in an intuitive, human-readable language made up of high-level,
reusable keywords (<code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">test</span> <span class="pre">browser</span></code>,
<code class="docutils literal notranslate"><span class="pre">Delete</span> <span class="pre">records</span> <span class="pre">and</span> <span class="pre">close</span> <span class="pre">browser</span></code>) rather than in a programming
language.</p>
<p>For example, this basic Robot test case file creates a new <code class="docutils literal notranslate"><span class="pre">Contact</span></code>
record, and then examines the record to confirm that the fields listed
are correct. You can see how straightforward the keyword syntax is. Even
someone brand new to test automation can grasp the function of the
<code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Insert</span></code>, <code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Get</span></code>, and <code class="docutils literal notranslate"><span class="pre">Should</span> <span class="pre">be</span> <span class="pre">equal</span></code> keywords.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Documentation</span><span class="p">   </span><span class="s">A simple Robot test</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Create a Contact using the API</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=Eleanor</span>
<span class="p">   ...  </span><span class="s">LastName=Rigby</span>

<span class="p">   </span><span class="c">## Get the new Contact and examine it</span>
<span class="p">   &amp;{</span><span class="nv">contact</span><span class="p">}=      </span><span class="nf">Salesforce Get</span><span class="p">  </span><span class="s">Contact</span><span class="p">  ${</span><span class="nv">contact id</span><span class="p">}</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[FirstName]</span><span class="p">    </span><span class="s">Eleanor</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[LastName]</span><span class="p">     </span><span class="s">Rigby</span>
</pre></div>
</div>
</section>
<section id="the-robot-framework-advantage">
<h2>The Robot Framework Advantage<a class="headerlink" href="#the-robot-framework-advantage" title="Link to this heading">¶</a></h2>
<p>Acceptance testing touches on multiple aspects of an application such as
the data model, custom APIs, performance, and the user experience in the
browser. Existing tools like Apex and Jest are good for writing unit
tests and low-level integration tests. However, it can be difficult to
understand the intent of a test, and the features being tested, when the
test itself involves multiple lines of code detailing where to fetch
data from, and how, and other such implementation details.</p>
<p>Robot addresses these challenges with a few strategies, helping you
write high-level acceptance tests for every aspect of an application,
often in a single test suite.</p>
<ul class="simple">
<li><p>Human-readable, domain-specific test cases: Robot lets you create a
language tailored to the domain of testing Salesforce applications
(a domain-specific language, or DSL). The DSL consists of reusable
keywords that present a complex set of instructions in a
human-readable language. The result? Test cases that all project
stakeholders can easily understand, such as a product manager, scrum
master, documentation teams, and so on–not just the test authors.
In the previous example, <code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Insert</span></code>, <code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Get</span></code> and
<code class="docutils literal notranslate"><span class="pre">Should</span> <span class="pre">be</span> <span class="pre">equal</span></code> are all keywords.</p></li>
<li><p>Keyword libraries: Robot organizes keywords into libraries, which
provide a simple, effective method to organize and share keywords
between tests and projects. CumulusCI comes with a comprehensive
standard library of Robot keywords created specifically to
anticipate the needs of Salesforce testers. In the previous example,
when you define <code class="docutils literal notranslate"><span class="pre">Salesforce.robot</span></code> as a resource, it automatically
pulls in dozens of Salesforce-specific keywords.</p></li>
<li><p>Streamlined test cases: Keywords allow implementation details to be
handled by the test but not explicitly itemized in the test. In the
previous example, a new <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record is created with the
<code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Insert</span></code> keyword, but we don’t see all the steps
required to make an API call to create the record, such as getting
an access token, creating an API payload, making the API call, and
parsing the results. We see only two keywords that communicate with
Salesforce via an API: one to create the <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record, and
another to retrieve the new record to confirm it has the correct
first and last names.</p></li>
</ul>
<section id="robot-specific-tasks">
<h3>Robot-specific Tasks<a class="headerlink" href="#robot-specific-tasks" title="Link to this heading">¶</a></h3>
<p>CumulusCI integrates with Robot via custom tasks, such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">robot</span></code>: Runs one or more Robot tests. This task is the most common.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot_libdoc</span></code>: Runs the
<a class="reference external" href="http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#library-documentation-tool-libdoc">libdoc</a>
command, which creates an HTML file defining all the keywords in a
library or resource file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">robot_testdoc</span></code>: Runs the
<a class="reference external" href="http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#test-data-documentation-tool-testdoc">testdoc</a>
command, which creates an HTML file documenting all the tests in a
test suite.</p></li>
</ul>
<p>Like with any CumulusCI task, you can get documentation and a list of
arguments with the <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">info</span></code> command. For example,
<code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">info</span> <span class="pre">robot</span></code> displays documentation for the <code class="docutils literal notranslate"><span class="pre">robot</span></code> task.</p>
</section>
<section id="custom-keywords">
<h3>Custom Keywords<a class="headerlink" href="#custom-keywords" title="Link to this heading">¶</a></h3>
<p>CumulusCI provides a set of keywords unique to both Salesforce and
CumulusCI for acceptance testing. These keywords can run other tasks,
interact with Salesforce applications, call Salesforce APIs, and so on.
For a list of all custom keywords provided by CumulusCI, see
<a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html">Keywords.html</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In addition to the keywords that come with CumulusCI, you can write
project-specific keywords that are either based on existing keywords, or
implemented in Python.</p>
</div>
</section>
</section>
<section id="write-a-sample-robot-test-case">
<h2>Write a Sample Robot Test Case<a class="headerlink" href="#write-a-sample-robot-test-case" title="Link to this heading">¶</a></h2>
<p>Now that you have a general understanding of why Robot is ideal for
acceptance testing with CumulusCI, let’s construct a test case file
that creates a new <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record.</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">project</span> <span class="pre">init</span></code>, which creates the <code class="docutils literal notranslate"><span class="pre">create_contact.robot</span></code>
test case file that comes standard whenever you initialize a project
with CumulusCI.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">robot/&lt;ProjectName&gt;/tests</span></code> folder, save this code in a new
file named <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code>.</p></li>
</ol>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Documentation</span><span class="p">   </span><span class="s">A simple Robot test</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Create a Contact using the API</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=Eleanor</span>
<span class="p">   ...  </span><span class="s">LastName=Rigby</span>

<span class="p">   </span><span class="c">## Get the new Contact and examine it</span>
<span class="p">   &amp;{</span><span class="nv">contact</span><span class="p">}=      </span><span class="nf">Salesforce Get</span><span class="p">  </span><span class="s">Contact</span><span class="p">  ${</span><span class="nv">contact id</span><span class="p">}</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[FirstName]</span><span class="p">    </span><span class="s">Eleanor</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[LastName]</span><span class="p">     </span><span class="s">Rigby</span>
</pre></div>
</div>
<p>You can tell that both <code class="docutils literal notranslate"><span class="pre">create_contact.robot</span></code> and
<code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> are test case files because each one has a
<code class="docutils literal notranslate"><span class="pre">.robot</span></code> extension and contains a <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Cases</span></code> section. The
<code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test case file is a simplified version of
<code class="docutils literal notranslate"><span class="pre">create_contact.robot</span></code>. We feature it in this documentation for simpler
code samples.</p>
<section id="syntax">
<h3>Syntax<a class="headerlink" href="#syntax" title="Link to this heading">¶</a></h3>
<p>Here’s a quick primer on the syntax in the <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code>
test case file.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description and Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">***</span></code></p></td>
<td><p>Section Heading</p></td>
<td><p>A line that begins with one or more asterisks is a section heading. By<br>convention, we use three asterisks on both sides of a heading to designate<br>a section heading. Section headings include <code class="docutils literal notranslate"><span class="pre">Settings</span></code>, <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Cases</span></code>, <code class="docutils literal notranslate"><span class="pre">Keywords</span></code>, <code class="docutils literal notranslate"><span class="pre">Variables</span></code>, <code class="docutils literal notranslate"><span class="pre">Comments</span></code>, and <code class="docutils literal notranslate"><span class="pre">Tasks</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>#</p></td>
<td><p>Hash</p></td>
<td><p>Designates code comments.</p></td>
</tr>
<tr class="row-even"><td><p>${}</p></td>
<td><p>Variable</p></td>
<td><p>Curly braces surrounding a name designate a variable. The lead <code class="docutils literal notranslate"><span class="pre">$</span></code>character refers to a single value. Variable names are case-insensitive. Spaces and underscores are allowed<br>and are treated the same.</p></td>
</tr>
<tr class="row-odd"><td><p>=</p></td>
<td><p>Assignment</p></td>
<td><p>Equals sign is optional yet convenient for showing that a variable is<br>assigned a value. Before the equals sign, up to one space is allowed but <em>not</em> required. After the equals sign, two spaces are required, but more<br>are allowed to format test cases into readable columns.</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>Ellipses</p></td>
<td><p>Ellipses designate the continuation of a single-line row of code split<br>over multiple lines for easier readability.</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Space</p></td>
<td><p>Two or more spaces separate arguments from the keywords, and arguments<br>from each other. Multiple spaces can be used to align data and to aid in<br>readability.</p></td>
</tr>
</tbody>
</table>
</div>
<p>For more details on Robot syntax, visit the official <a class="reference external" href="http://robotframework.org/robotframework/2.9.2/RobotFrameworkUserGuide.html#test-data-syntax">Robot syntax
documentation</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For users interested in linting their Robot Framework code, we recommend checking out +<a class="reference external" href="https://robocop.readthedocs.io/"><code class="docutils literal notranslate"><span class="pre">robotframework-robocop</span></code></a>. It’s a static code analysis tool for Robot Framework that can help maintain good code quality.</p>
</div>
</section>
<section id="settings">
<h3>Settings<a class="headerlink" href="#settings" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Settings</span></code> section of the <code class="docutils literal notranslate"><span class="pre">.robot</span></code> file sets up the entire test
suite. Configurations established under <code class="docutils literal notranslate"><span class="pre">Settings</span></code> affect all test
cases, such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Suite</span> <span class="pre">Setup</span></code> and <code class="docutils literal notranslate"><span class="pre">Suite</span> <span class="pre">Teardown</span></code>, which support processes before
the test begins and cleanup after the test finishes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Documentation</span></code>, which describes the purpose of the test suite.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tags</span></code>, which lets a user associate individual test cases with a
label.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Resource</span></code>, which imports keywords from external files.</p></li>
</ul>
<p>For example, these are the settings stored in the
<code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> file.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Documentation</span><span class="p">   </span><span class="s">A simple Robot test</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">cumulusci/robotframework/Salesforce.robot</span></code> resource file comes with
CumulusCI and automatically inherits useful configuration and keywords
for Salesforce testing. The <code class="docutils literal notranslate"><span class="pre">Salesforce.robot</span></code> resource file is the
primary method of importing all keywords and variables provided by
CumulusCI, so it’s best practice for the file to be the first item
imported as a <code class="docutils literal notranslate"><span class="pre">Resource</span></code> under <code class="docutils literal notranslate"><span class="pre">Settings</span></code>. It also imports the
<a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#file-cumulusci.robotframework.CumulusCI">CumulusCI
Library</a>,
the <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#file-cumulusci.robotframework.Salesforce">Salesforce
Library</a>,
the third-party
<a class="reference external" href="http://robotframework.org/SeleniumLibrary/SeleniumLibrary.html">SeleniumLibrary</a>
for browser testing via Selenium, and these most commonly used Robot
libraries.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://robotframework.org/robotframework/latest/libraries/Collections.html">Collections</a></p></li>
<li><p><a class="reference external" href="http://robotframework.org/robotframework/latest/libraries/OperatingSystem.html">OperatingSystem</a></p></li>
<li><p><a class="reference external" href="http://robotframework.org/robotframework/latest/libraries/String.html">String</a></p></li>
<li><p><a class="reference external" href="http://robotframework.org/robotframework/latest/libraries/XML.html">XML</a></p></li>
</ul>
<p>CumulusCI also comes bundled with these third-party keyword libraries,
which must be explicitly imported by any test suite that needs them.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://marketsquare.github.io/robotframework-requests/doc/RequestsLibrary.html">RequestsLibrary</a>
for testing REST APIs. To use <code class="docutils literal notranslate"><span class="pre">RequestsLibrary</span></code>, explicitly import
it under the <code class="docutils literal notranslate"><span class="pre">Settings</span></code> section of your Robot test.</p></li>
<li><p>All other libraries listed in the Standard tab of the <a class="reference external" href="https://robotframework.org/##libraries">Robot
libraries documentation</a>.</p></li>
</ul>
</section>
<section id="test-cases">
<h3>Test Cases<a class="headerlink" href="#test-cases" title="Link to this heading">¶</a></h3>
<p>In the <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Cases</span></code> section of the <code class="docutils literal notranslate"><span class="pre">.robot</span></code> file, each test case gets
its own code block; the test case name is the first line of code, with
no indentation. The body of the test case is all the indented text
underneath.</p>
<p>For example, here is the <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Cases</span></code> section of the
<code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test case file. It has a single test case
named <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">a</span> <span class="pre">Contact</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">API</span></code>.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Test Cases ***</span>
<span class="gu">Create a Contact using the API</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=Eleanor</span>
<span class="p">   ...  </span><span class="s">LastName=Rigby</span>

<span class="p">   </span><span class="c">## Get the new Contact and examine it</span>
<span class="p">   &amp;{</span><span class="nv">contact</span><span class="p">}=      </span><span class="nf">Salesforce Get</span><span class="p">  </span><span class="s">Contact</span><span class="p">  ${</span><span class="nv">contact id</span><span class="p">}</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[FirstName]</span><span class="p">    </span><span class="s">Eleanor</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[LastName]</span><span class="p">     </span><span class="s">Rigby</span>
</pre></div>
</div>
<p>Notice these keywords used in the test case.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Insert</span></code> creates a new <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record with the
arguments it’s given for the <code class="docutils literal notranslate"><span class="pre">FirstName</span></code> and <code class="docutils literal notranslate"><span class="pre">LastName</span></code> fields.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Get</span></code> retrieves the requested <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record based on
its ID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Should</span> <span class="pre">Be</span> <span class="pre">Equal</span></code> compares the arguments to the values of the
<code class="docutils literal notranslate"><span class="pre">FirstName</span></code> and <code class="docutils literal notranslate"><span class="pre">LastName</span></code> fields of the newly created <code class="docutils literal notranslate"><span class="pre">Contact</span></code>
record.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Keywords in the test cases are separated from arguments by two or more
spaces.</p>
</div>
</section>
</section>
<section id="suite-setup-and-teardown">
<h2>Suite Setup and Teardown<a class="headerlink" href="#suite-setup-and-teardown" title="Link to this heading">¶</a></h2>
<p>Most real-world tests require setup before the test begins (such as
opening a browser or creating test data), and cleanup after the test
finishes (such as closing the browser or deleting test data). Robot
supports setup and teardown at both the suite level (such as opening the
browser before the first test, <em>and</em> closing the browser after the last
test) and the test level (such as opening and closing the browser at the
start <em>and</em> the end of the test).</p>
<p>If you run the <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test case file several times,
you add a new <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record to your scratch org each time it runs. If
you have a test that requires a specific number of <code class="docutils literal notranslate"><span class="pre">Contact</span></code> records,
the test can fail the second time you run it. To maintain the required
record count, you can add a teardown that deletes any <code class="docutils literal notranslate"><span class="pre">Contact</span></code> records
created by running the test.</p>
<p>Let’s modify the <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test case file with a
<code class="docutils literal notranslate"><span class="pre">Suite</span> <span class="pre">Teardown</span></code> that deletes the <code class="docutils literal notranslate"><span class="pre">Contact</span></code> records created by any tests
in the suite.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Documentation</span><span class="p">   </span><span class="s">A simple Robot test</span>
<span class="kn">Suite Teardown</span><span class="p">  </span><span class="nf">Delete session records</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Create a Contact using the API</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=Eleanor</span>
<span class="p">   ...  </span><span class="s">LastName=Rigby</span>

<span class="p">   </span><span class="c">## Get the new Contact and examine it</span>
<span class="p">   &amp;{</span><span class="nv">contact</span><span class="p">}=      </span><span class="nf">Salesforce Get</span><span class="p">  </span><span class="s">Contact</span><span class="p">  ${</span><span class="nv">contact id</span><span class="p">}</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[FirstName]</span><span class="p">    </span><span class="s">Eleanor</span>
<span class="p">   </span><span class="nf">Should be equal</span><span class="p">  ${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[LastName]</span><span class="p">     </span><span class="s">Rigby</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Salesforce</span> <span class="pre">Insert</span></code> keyword keeps track of the record IDs created.
The <code class="docutils literal notranslate"><span class="pre">Delete</span> <span class="pre">session</span> <span class="pre">records</span></code> keyword deletes those records.</p>
</div>
<p>To run this test from the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>robot/&lt;ProjectName&gt;/tests/new_contact_record.robot
</pre></div>
</div>
</section>
<section id="generate-fake-data-with-faker">
<h2>Generate Fake Data with Faker<a class="headerlink" href="#generate-fake-data-with-faker" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">get</span> <span class="pre">fake</span> <span class="pre">data</span></code> keyword comes with the Faker library that’s
installed with CumulusCI, and saves you from hard-coding test data for
Robot tests. <code class="docutils literal notranslate"><span class="pre">Get</span> <span class="pre">fake</span> <span class="pre">data</span></code> does much more than just return random
strings; it generates strings in an appropriate format. You can ask it
for a name, address, date, phone number, credit card number, and so on,
and get back properly formatted data.</p>
<p>For example, let’s modify the <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test case file
to generate a fake name. Because the new <code class="docutils literal notranslate"><span class="pre">Contact</span></code> name is randomly
generated in this updated example, you can’t hard-code an assertion on
the name of the created <code class="docutils literal notranslate"><span class="pre">Contact</span></code> to verify the name. Instead, for
illustrative purposes, this test logs the <code class="docutils literal notranslate"><span class="pre">Contact</span></code> name in the test’s
<code class="docutils literal notranslate"><span class="pre">log.html</span></code> file.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Documentation</span><span class="p">   </span><span class="s">A simple Robot test</span>
<span class="kn">Suite Teardown</span><span class="p">  </span><span class="nf">Delete session records</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Create a Contact with a generated name</span>
<span class="p">   [</span><span class="kn">Teardown</span><span class="p">]       </span><span class="nf">Delete session records</span>

<span class="p">   </span><span class="c">## Generate a name to use for Contact</span>
<span class="p">   ${</span><span class="nv">first name</span><span class="p">}=   </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">first_name</span>
<span class="p">   ${</span><span class="nv">last name</span><span class="p">}=    </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">last_name</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=</span><span class="p">${</span><span class="nv">first name</span><span class="p">}</span>
<span class="p">   ...  </span><span class="s">LastName=</span><span class="p">${</span><span class="nv">last name</span><span class="p">}</span>

<span class="p">   </span><span class="c">## Get the new Contact and add name to the log</span>
<span class="p">   &amp;{</span><span class="nv">contact</span><span class="p">}=      </span><span class="nf">Salesforce Get</span><span class="p">  </span><span class="s">Contact</span><span class="p">  ${</span><span class="nv">contact id</span><span class="p">}</span>
<span class="p">   </span><span class="nf">Log</span><span class="p">  </span><span class="s">Contact name: </span><span class="p">${</span><span class="nv">contact</span><span class="p">}</span><span class="s">[Name]</span>
</pre></div>
</div>
<p>To run this test from the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>robot/&lt;ProjectName&gt;/tests/new_contact_record.robot
</pre></div>
</div>
</section>
<section id="create-custom-keywords">
<span id="id2"></span><h2>Create Custom Keywords<a class="headerlink" href="#create-custom-keywords" title="Link to this heading">¶</a></h2>
<p>We mentioned earlier that Robot makes use of a domain-specific language.
By creating a collection of reusable custom keywords, we can create this
DSL for testing Salesforce apps.</p>
<p>Let’s create a new Robot test that includes a custom keyword called
<code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">a</span> <span class="pre">test</span> <span class="pre">Contact</span></code>, which creates a <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record and then saves
the data for this record in a test variable. Save this code in a file
named <code class="docutils literal notranslate"><span class="pre">custom_keyword.robot</span></code> in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder of your project’s
repository.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Suite Teardown</span><span class="p">  </span><span class="nf">Delete session records</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Example of using a custom keyword in a setup step</span>
<span class="p">   [</span><span class="kn">Setup</span><span class="p">]      </span><span class="nf">Create a test Contact</span>

<span class="p">   </span><span class="c">## Get the new Contact that&#39;s stored in a test variable,</span>
<span class="p">   </span><span class="c">## and add the name to the log</span>
<span class="p">   </span><span class="nf">Log</span><span class="p">  </span><span class="s">New Contact: </span><span class="p">${</span><span class="nv">new contact</span><span class="p">}</span><span class="s">[Name]</span>

<span class="gh">*** Keywords ***</span>
<span class="gu">Create a test Contact</span>
<span class="p">   [</span><span class="kn">Documentation</span><span class="p">]  </span><span class="s">Create a temporary Contact and return it</span>

<span class="p">   </span><span class="c">## Generate a name to use for Contact</span>
<span class="p">   ${</span><span class="nv">first name</span><span class="p">}=   </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">first_name</span>
<span class="p">   ${</span><span class="nv">last name</span><span class="p">}=    </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">last_name</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=</span><span class="p">${</span><span class="nv">first name</span><span class="p">}</span>
<span class="p">   ...  </span><span class="s">LastName=</span><span class="p">${</span><span class="nv">last name</span><span class="p">}</span>

<span class="p">   </span><span class="c">## Fetch the Contact object to be returned and save</span>
<span class="p">   </span><span class="c">## it to a test variable</span>
<span class="p">   &amp;{</span><span class="nv">new contact</span><span class="p">}=    </span><span class="nf">Salesforce Get</span><span class="p">    </span><span class="s">Contact</span><span class="p">    ${</span><span class="nv">contact_id</span><span class="p">}</span>
<span class="p">   </span><span class="nf">Set test variable</span><span class="p">  &amp;{</span><span class="nv">new contact</span><span class="p">}</span>
</pre></div>
</div>
<p>Because the <code class="docutils literal notranslate"><span class="pre">Contact</span></code> record was created inside the
<code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">a</span> <span class="pre">test</span> <span class="pre">Contact</span></code> keyword, the <code class="docutils literal notranslate"><span class="pre">&amp;{new</span> <span class="pre">contact}</span></code> variable is not
going to be visible to any test case or keyword that calls the
<code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">a</span> <span class="pre">test</span> <span class="pre">Contact</span></code> keyword. It’s only when we use the built-in
keyword <a class="reference external" href="http://robotframework.org/robotframework/latest/libraries/BuiltIn.html#Set%20Test%20Variable">Set test
variable</a>
that the newly created <code class="docutils literal notranslate"><span class="pre">&amp;{new</span> <span class="pre">contact}</span></code> variable becomes visible in the
<code class="docutils literal notranslate"><span class="pre">Example</span> <span class="pre">of</span> <span class="pre">using</span> <span class="pre">a</span> <span class="pre">custom</span> <span class="pre">keyword</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">setup</span> <span class="pre">step</span></code> test case.</p>
<p>You can create settings for individual test cases and keywords by specifying the setting names in square brackets. These settings are often used to override setting defaults in the Setting section. In the previous example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[Setup]</span></code> is a setting for the
<code class="docutils literal notranslate"><span class="pre">Example</span> <span class="pre">of</span> <span class="pre">using</span> <span class="pre">a</span> <span class="pre">custom</span> <span class="pre">keyword</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">setup</span> <span class="pre">step</span></code> test case.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[Documentation]</span></code> is a setting for the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">a</span> <span class="pre">test</span> <span class="pre">Contact</span></code>
keyword.</p></li>
</ul>
<p>For details, see the <a class="reference external" href="http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#settings-in-the-test-case-section">Settings in the Test Case
section</a>
in the official Robot Framework documentation.</p>
<p>To run this test from the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>robot/&lt;ProjectName&gt;/tests/custom_keyword.robot
</pre></div>
</div>
</section>
<section id="create-a-resource-file">
<h2>Create a Resource File<a class="headerlink" href="#create-a-resource-file" title="Link to this heading">¶</a></h2>
<p>Now that you know how to create a reusable custom keyword in a test case
file, you can build a library of custom keywords to be shared
project-wide with a resource file.</p>
<p>A resource file is similar to a test case file, except it can’t contain
test cases. Typically, a resource file stores settings that are used by
every test in the project, such as defining project-specific variables,
or importing project-specific keyword libraries and resource files.</p>
<p>Let’s create a resource file that stores the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">a</span> <span class="pre">test</span> <span class="pre">Contact</span></code>
custom keyword, which is currently in the <code class="docutils literal notranslate"><span class="pre">custom_keyword.robot</span></code> test
case file defined in <a class="reference internal" href="#create-custom-keywords"><span class="std std-ref">Create Custom Keywords</span></a>.
There aren’t any requirements for naming resource files. However, most
teams have standardized creating a resource file named after the
project, such as <code class="docutils literal notranslate"><span class="pre">NPSP.robot</span></code> for NPSP.</p>
<p>For this example, we’ll stick to this convention and create a file
named after your project. Save this code in a file named
<code class="docutils literal notranslate"><span class="pre">robot/&lt;ProjectName&gt;/resources/&lt;ProjectName&gt;.robot</span></code>.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Create a test Contact</span>
<span class="p">   [</span><span class="kn">Documentation</span><span class="p">]  </span><span class="s">Create a temporary Contact and return it</span>

<span class="p">   </span><span class="c">## Generate a name to use for Contact</span>
<span class="p">   ${</span><span class="nv">first name</span><span class="p">}=   </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">first_name</span>
<span class="p">   ${</span><span class="nv">last name</span><span class="p">}=    </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">last_name</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=</span><span class="p">${</span><span class="nv">first name</span><span class="p">}</span>
<span class="p">   ...  </span><span class="s">LastName=</span><span class="p">${</span><span class="nv">last name</span><span class="p">}</span>

<span class="p">   </span><span class="c">## Fetch the Contact object to be returned and save</span>
<span class="p">   </span><span class="c">## it to a test variable</span>
<span class="p">   &amp;{</span><span class="nv">new contact</span><span class="p">}=    </span><span class="nf">Salesforce Get</span><span class="p">   </span><span class="s">Contact</span><span class="p">    ${</span><span class="nv">contact_id</span><span class="p">}</span>
<span class="p">   </span><span class="nf">Set test variable</span><span class="p">  &amp;{</span><span class="nv">new contact</span><span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Along with moving the <code class="docutils literal notranslate"><span class="pre">Keywords</span></code> section in the <code class="docutils literal notranslate"><span class="pre">custom_keyword.robot</span></code>
test case file to this file, you must also import <code class="docutils literal notranslate"><span class="pre">Salesforce.robot</span></code> as
a <code class="docutils literal notranslate"><span class="pre">Resource</span></code> because that’s where the Faker library is defined.</p>
</div>
<p>Next, let’s modify the <code class="docutils literal notranslate"><span class="pre">custom_keyword.robot</span></code> test case file. Remove
the <code class="docutils literal notranslate"><span class="pre">Keywords</span></code> section, and then under <code class="docutils literal notranslate"><span class="pre">Settings</span></code>, add as many
<code class="docutils literal notranslate"><span class="pre">Resource</span></code> statements as needed to import keywords from their specific
<code class="docutils literal notranslate"><span class="pre">.robot</span></code> resource files.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">&lt;ProjectName&gt;/resources/&lt;ProjectName&gt;.robot</span>

<span class="kn">Suite Teardown</span><span class="p">  </span><span class="nf">Delete session records</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Example of using a custom keyword in a setup step</span>
<span class="p">   [</span><span class="kn">Setup</span><span class="p">]      </span><span class="nf">Create a test Contact</span>

<span class="p">   </span><span class="c">## Get the new Contact that&#39;s stored in a test variable,</span>
<span class="p">   </span><span class="c">## and add the name to the log</span>
<span class="p">   </span><span class="nf">Log</span><span class="p">  </span><span class="s">New Contact: </span><span class="p">${</span><span class="nv">new contact</span><span class="p">}</span><span class="s">[Name]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keywords defined in resource files are accessible to all tests in a
suite that imports the resource files.</p>
</div>
</section>
<section id="create-a-simple-browser-test">
<h2>Create a Simple Browser Test<a class="headerlink" href="#create-a-simple-browser-test" title="Link to this heading">¶</a></h2>
<p>Now that you know how to create records using the API, you can use those
records in a browser test.</p>
<p>Let’s create a Robot test that uses <code class="docutils literal notranslate"><span class="pre">Suite</span> <span class="pre">Setup</span></code> to call the
<code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">test</span> <span class="pre">browser</span></code> keyword. Save this code in a file named <code class="docutils literal notranslate"><span class="pre">ui.robot</span></code>
in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder of your project’s repository.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>

<span class="kn">Suite Setup</span><span class="p">     </span><span class="nf">Open test browser</span>
<span class="kn">Suite Teardown</span><span class="p">  </span><span class="nf">Delete records and close browser</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Take screenshot of landing page</span>
<span class="p">   </span><span class="nf">Wait until page contains</span><span class="p">  </span><span class="s">Most Recently Used</span>
<span class="p">   </span><span class="nf">Capture page screenshot</span>
</pre></div>
</div>
<p>Because this test case file calls <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">test</span> <span class="pre">browser</span></code>, a browser window
appears while the test runs. The test case takes a screenshot, which can
be a useful tool when debugging tests (a tool used sparingly because
screenshots can take up a lot of disk space). <code class="docutils literal notranslate"><span class="pre">Suite</span> <span class="pre">Teardown</span></code> then
calls the <code class="docutils literal notranslate"><span class="pre">Delete</span> <span class="pre">records</span> <span class="pre">and</span> <span class="pre">close</span> <span class="pre">browser</span></code> keyword to complete the
test.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">test</span> <span class="pre">browser</span></code> doesn’t always wait long enough for Salesforce to
render. That’s why the <code class="docutils literal notranslate"><span class="pre">Wait</span> <span class="pre">until</span> <span class="pre">page</span> <span class="pre">contains</span></code> keyword comes in
handy. It waits until the “Most Recently Used” section of the web page
appears, which is a good indication that the site has loaded.</p>
</div>
<p>To run this test from the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>robot/&lt;ProjectName&gt;/tests/ui.robot
</pre></div>
</div>
<p>In addition to the usual output files (<code class="docutils literal notranslate"><span class="pre">log.html</span></code>, <code class="docutils literal notranslate"><span class="pre">report.html</span></code>,
<code class="docutils literal notranslate"><span class="pre">output.xml</span></code>), this test also creates a screenshot in the <code class="docutils literal notranslate"><span class="pre">results</span></code>
folder. If you open <code class="docutils literal notranslate"><span class="pre">log.html</span></code>, you can see whether each step of the
test case passed or failed. Toggle the <code class="docutils literal notranslate"><span class="pre">+</span></code> tab of the
<code class="docutils literal notranslate"><span class="pre">Take</span> <span class="pre">screenshot</span> <span class="pre">of</span> <span class="pre">landing</span> <span class="pre">page</span></code> test header to examine the results of
the test. Then toggle the <code class="docutils literal notranslate"><span class="pre">+</span></code> tab of the <code class="docutils literal notranslate"><span class="pre">Capture</span> <span class="pre">page</span> <span class="pre">screenshot</span></code>
keyword to examine the screenshot taken of the landing page.</p>
<p><img alt="image" src="_images/robot_toggled_results_screenshot.png" /></p>
<section id="open-the-browser">
<h3>Open the Browser<a class="headerlink" href="#open-the-browser" title="Link to this heading">¶</a></h3>
<p>The Selenium library comes with a keyword for opening the browser.
However, CumulusCI comes with its own keyword, <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.robot.Open%20Test%20Browser">Open Test
Browser</a>,
which not only opens the browser but also takes care of the details of
logging into the org. This keyword uses a variable named <code class="docutils literal notranslate"><span class="pre">${BROWSER}</span></code>,
which can be set from the command line or in the <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file to
specify which browser to use.</p>
<p>Specify variables in the <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file or in the <code class="docutils literal notranslate"><span class="pre">vars</span></code> option
under <code class="docutils literal notranslate"><span class="pre">robot</span></code> in the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> section. For example, <code class="docutils literal notranslate"><span class="pre">${BROWSER}</span></code> defaults
to <code class="docutils literal notranslate"><span class="pre">chrome</span></code> in Robot, but it can be set to <code class="docutils literal notranslate"><span class="pre">firefox</span></code>.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="c">tasks:</span>
<span class="p">   </span><span class="c">robot:</span>
<span class="p">      </span><span class="c">options:</span>
<span class="p">      </span><span class="c">vars:</span>
<span class="p">         </span><span class="c">- BROWSER:firefox</span>
</pre></div>
</div>
<p>To set the browser to <code class="docutils literal notranslate"><span class="pre">firefox</span></code> from the command line <em>for a single test
run</em>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--vars<span class="w"> </span>BROWSER:firefox
</pre></div>
</div>
</section>
<section id="supported-browsers">
<h3>Supported Browsers<a class="headerlink" href="#supported-browsers" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">robot</span></code> task supports both Chrome and Firefox browsers, and the
headless variations of these browsers, <code class="docutils literal notranslate"><span class="pre">headlesschrome</span></code> and
<code class="docutils literal notranslate"><span class="pre">headlessfirefox</span></code>. With the headless version, browser tests run without
opening a browser window. The tests still use a browser, but you can’t
see it while the test runs. This variation is most useful when you run a
test on a continuous integration server like MetaCI, where a physical
display isn’t connected to the server.</p>
<p>To specify the headless version of a browser, prepend <code class="docutils literal notranslate"><span class="pre">headless</span></code> to the
browser name. For example, the command line option to specify headless
Chrome is <code class="docutils literal notranslate"><span class="pre">--var</span> <span class="pre">BROWSER:headlesschrome</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When you run a test in headless mode, you can still capture screenshots
of the browser window. The <code class="docutils literal notranslate"><span class="pre">Capture</span> <span class="pre">Page</span> <span class="pre">Screenshot</span></code> keyword is
indispensable for debugging tests that failed in headless mode.</p>
</div>
</section>
</section>
<section id="combine-api-keywords-and-browser-tests">
<h2>Combine API Keywords and Browser Tests<a class="headerlink" href="#combine-api-keywords-and-browser-tests" title="Link to this heading">¶</a></h2>
<p>In Robot, API and browser keywords can be used together to build more
elaborate acceptance tests.</p>
<p>Let’s build on the original <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test to
integrate the previous configurations covered so far. Replace the
entirety of the <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test case file in the <code class="docutils literal notranslate"><span class="pre">tests</span></code>
folder of your project’s repository with this code.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">        </span><span class="nn">cumulusci/robotframework/Salesforce.robot</span>
<span class="kn">Documentation</span><span class="p">   </span><span class="s">A simple Robot test</span>

<span class="kn">Suite Setup</span><span class="p">     </span><span class="nf">Open test browser</span>
<span class="kn">Suite Teardown</span><span class="p">  </span><span class="nf">Delete records and close browser</span>

<span class="gh">*** Test Cases ***</span>
<span class="gu">Take screenshot of list of Contacts</span>
<span class="p">   [</span><span class="kn">Setup</span><span class="p">]  </span><span class="nf">Create a test Contact</span>

<span class="p">   </span><span class="nf">Go to object home</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   </span><span class="nf">Capture page screenshot</span>

<span class="gh">*** Keywords ***</span>
<span class="gu">Create a test Contact</span>
<span class="p">   [</span><span class="kn">Documentation</span><span class="p">]  </span><span class="s">Create a temporary Contact and return the ID</span>
<span class="p">   [</span><span class="kn">Return</span><span class="p">]         ${</span><span class="nv">contact id</span><span class="p">}</span>

<span class="p">   </span><span class="c">## Generate a name to use for Contact</span>
<span class="p">   ${</span><span class="nv">first name</span><span class="p">}=   </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">first_name</span>
<span class="p">   ${</span><span class="nv">last name</span><span class="p">}=    </span><span class="nf">Get fake data</span><span class="p">  </span><span class="s">last_name</span>

<span class="p">   </span><span class="c">## Create a new Contact</span>
<span class="p">   ${</span><span class="nv">contact id</span><span class="p">}=   </span><span class="nf">Salesforce Insert</span><span class="p">  </span><span class="s">Contact</span>
<span class="p">   ...  </span><span class="s">FirstName=</span><span class="p">${</span><span class="nv">first name</span><span class="p">}</span>
<span class="p">   ...  </span><span class="s">LastName=</span><span class="p">${</span><span class="nv">last name</span><span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code> test case file not only creates a
<code class="docutils literal notranslate"><span class="pre">Contact</span></code> record, it also opens the browser to see that the <code class="docutils literal notranslate"><span class="pre">Contact</span></code>
record appears in a list of <code class="docutils literal notranslate"><span class="pre">Contacts</span></code>, takes a screenshot of the list,
then deletes all new records created during the test run, and closes the
browser.</p>
<p>To run this test from the command line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>robot/&lt;ProjectName&gt;/tests/new_contact_record.robot<span class="w"> </span>--org<span class="w"> </span>dev
</pre></div>
</div>
</section>
<section id="run-an-entire-test-suite">
<h2>Run an Entire Test Suite<a class="headerlink" href="#run-an-entire-test-suite" title="Link to this heading">¶</a></h2>
<p>At this point, the <code class="docutils literal notranslate"><span class="pre">robot</span></code> folder in your project repository should look
like this.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;ProjectName&gt;</span>
<span class="go">├── robot</span>
<span class="go">│   └── &lt;ProjectName&gt;</span>
<span class="go">│       ├── doc</span>
<span class="go">│       ├── resources</span>
<span class="go">│       │   └── &lt;ProjectName&gt;.robot</span>
<span class="go">│       ├── results</span>
<span class="go">│       │   ├── log.html</span>
<span class="go">│       │   ├── output.xml</span>
<span class="go">│       │   ├── report.html</span>
<span class="go">│       │   ├── selenium-screenshot-1.png</span>
<span class="go">│       │   └── selenium-screenshot-2.png</span>
<span class="go">│       └── tests</span>
<span class="go">│           ├── create_contact.robot</span>
<span class="go">│           ├── custom_keyword.robot</span>
<span class="go">│           ├── new_contact_record.robot</span>
<span class="go">│           └── ui.robot</span>
</pre></div>
</div>
<p>While a single <code class="docutils literal notranslate"><span class="pre">.robot</span></code> file is considered to be a test suite, Robot
also considers folders to be suites. You can pass a folder to Robot to
run all tests stored in that folder. So if you’ve saved the
<code class="docutils literal notranslate"><span class="pre">new_contact_record.robot</span></code>, <code class="docutils literal notranslate"><span class="pre">custom_keyword.robot</span></code>, and <code class="docutils literal notranslate"><span class="pre">ui.robot</span></code> test
case files in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder, you can run all of the tests in the
command line.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>robot/&lt;ProjectName&gt;/tests<span class="w"> </span>--org<span class="w"> </span>dev
</pre></div>
</div>
<p>In the output, you can see that all of the test case files in the
<code class="docutils literal notranslate"><span class="pre">tests</span></code> folder have been run, including the <code class="docutils literal notranslate"><span class="pre">create_contact.robot</span></code> test
case file that comes with CumulusCI.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>robot/&lt;ProjectName&gt;/tests<span class="w"> </span>--org<span class="w"> </span>dev
<span class="go">2021-08-24 16:45:36: Getting org info from Salesforce CLI for test-4g5sxdzt9sj3@example.com</span>
<span class="go">2021-08-24 16:45:39: Beginning task: Robot</span>
<span class="go">2021-08-24 16:45:39: As user: test-4g5sxdzt9sj3@example.com</span>
<span class="go">2021-08-24 16:45:39: In org: 00D56000000KC1g</span>
<span class="go">2021-08-24 16:45:39:</span>
<span class="go">==============================================================================</span>
<span class="go">Tests</span>
<span class="go">==============================================================================</span>
<span class="go">Tests.Create Contact</span>
<span class="go">==============================================================================</span>
<span class="go">Via API                                                               | PASS |</span>
<span class="go">------------------------------------------------------------------------------</span>
<span class="go">Via UI                                                                | PASS |</span>
<span class="go">------------------------------------------------------------------------------</span>
<span class="go">Tests.Create Contact                                                  | PASS |</span>
<span class="go">2 tests, 2 passed, 0 failed</span>
<span class="go">==============================================================================</span>
<span class="go">Tests.Custom Keyword</span>
<span class="go">==============================================================================</span>
<span class="go">Example of using a custom keyword in a setup step                     | PASS |</span>
<span class="go">------------------------------------------------------------------------------</span>
<span class="go">Tests.Custom Keyword                                                  | PASS |</span>
<span class="go">1 test, 1 passed, 0 failed</span>
<span class="go">==============================================================================</span>
<span class="go">Tests.New Contact Record :: A simple Robot test</span>
<span class="go">==============================================================================</span>
<span class="go">Take screenshot of list of Contacts                                   | PASS |</span>
<span class="go">------------------------------------------------------------------------------</span>
<span class="go">Tests.New Contact Record :: A simple Robot test                       | PASS |</span>
<span class="go">1 test, 1 passed, 0 failed</span>
<span class="go">==============================================================================</span>
<span class="go">Tests.Ui :: A simple Robot test</span>
<span class="go">==============================================================================</span>
<span class="go">Take screenshot of list of Contacts                                   | PASS |</span>
<span class="go">------------------------------------------------------------------------------</span>
<span class="go">Tests.Ui :: A simple Robot test                                       | PASS |</span>
<span class="go">1 test, 1 passed, 0 failed</span>
<span class="go">==============================================================================</span>
<span class="go">Tests                                                                 | PASS |</span>
<span class="go">5 tests, 5 passed, 0 failed</span>
<span class="go">==============================================================================</span>
<span class="go">Output:  /projects/&lt;ProjectName&gt;/robot/&lt;ProjectName&gt;/results/output.xml</span>
<span class="go">Log:     /projects/&lt;ProjectName&gt;/robot/&lt;ProjectName&gt;/results/log.html</span>
<span class="go">Report:  /projects/&lt;ProjectName&gt;/robot/&lt;ProjectName&gt;/results/report.html</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Test suite folders can also contain nested folders of tests, which makes
it easy to organize tests into functional groups. For example, you can
store all API tests in a <code class="docutils literal notranslate"><span class="pre">tests/api</span></code> folder, and store all UI tests in a
<code class="docutils literal notranslate"><span class="pre">tests/ui</span></code> folder.</p>
</div>
<p>Because running everything in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder is such common
practice, it’s the default behavior for the <code class="docutils literal notranslate"><span class="pre">robot</span></code> task.</p>
<p>To run an entire suite of tests with the <code class="docutils literal notranslate"><span class="pre">robot</span></code> task:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--org<span class="w"> </span>dev
</pre></div>
</div>
</section>
<section id="learn-more-about-robot-framework">
<h2>Learn More About Robot Framework<a class="headerlink" href="#learn-more-about-robot-framework" title="Link to this heading">¶</a></h2>
<p>To learn more about Robot, visit the <a class="reference external" href="http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html">Robot Framework User
Guide</a>.
We also have these resources in the CumulusCI documentation.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="robot-locators.html">Managing Locators</a></li>
<li class="toctree-l1"><a class="reference internal" href="robot-advanced.html">Robot Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="robot-tutorial.html">Robot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="robot-debugger.html">Robot Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="robot-playwright.html">Playwright Technology Preview</a></li>
</ul>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="robot-locators.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Managing Locators</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="data.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Automate Data Operations</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Salesforce.org
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Acceptance Testing with Robot Framework</a><ul>
<li><a class="reference internal" href="#get-started">Get Started</a><ul>
<li><a class="reference internal" href="#you-get-a-test-and-you-get-a-test">You Get a Test! And You Get a Test!</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-your-first-test">Run Your First Test</a><ul>
<li><a class="reference internal" href="#view-log-and-report-files">View Log and Report Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#so-why-robot">So Why Robot?</a></li>
<li><a class="reference internal" href="#the-robot-framework-advantage">The Robot Framework Advantage</a><ul>
<li><a class="reference internal" href="#robot-specific-tasks">Robot-specific Tasks</a></li>
<li><a class="reference internal" href="#custom-keywords">Custom Keywords</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-a-sample-robot-test-case">Write a Sample Robot Test Case</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#test-cases">Test Cases</a></li>
</ul>
</li>
<li><a class="reference internal" href="#suite-setup-and-teardown">Suite Setup and Teardown</a></li>
<li><a class="reference internal" href="#generate-fake-data-with-faker">Generate Fake Data with Faker</a></li>
<li><a class="reference internal" href="#create-custom-keywords">Create Custom Keywords</a></li>
<li><a class="reference internal" href="#create-a-resource-file">Create a Resource File</a></li>
<li><a class="reference internal" href="#create-a-simple-browser-test">Create a Simple Browser Test</a><ul>
<li><a class="reference internal" href="#open-the-browser">Open the Browser</a></li>
<li><a class="reference internal" href="#supported-browsers">Supported Browsers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#combine-api-keywords-and-browser-tests">Combine API Keywords and Browser Tests</a></li>
<li><a class="reference internal" href="#run-an-entire-test-suite">Run an Entire Test Suite</a></li>
<li><a class="reference internal" href="#learn-more-about-robot-framework">Learn More About Robot Framework</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=dac0bbfe"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>