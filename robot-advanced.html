<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="about.html" /><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Robot Tutorial" href="robot-tutorial.html" /><link rel="prev" title="Managing Locators" href="robot-locators.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->
        <title>Robot Advanced Topics - CumulusCI 4.6.0.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">CumulusCI 4.6.0.dev1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">CumulusCI 4.6.0.dev1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="get-started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">The <code class="docutils literal notranslate"><span class="pre">cci</span></code> Command Line</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="config.html">Configure CumulusCI</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Configure CumulusCI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">Configure Metadata Deployment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scratch-orgs.html">Manage Scratch Orgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="connected-orgs.html">Connect Persistent Orgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Develop a Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Automate Data Operations</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="robot.html">Acceptance Testing with Robot Framework</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Acceptance Testing with Robot Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="robot-locators.html">Managing Locators</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Robot Advanced Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-tutorial.html">Robot Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-debugger.html">Robot Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-playwright.html">Playwright Technology Preview</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="continuous-integration.html">Continuous Integration</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Continuous Integration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cumulusci-flow.html">CumulusCI Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="github-actions.html">Run CumulusCI from GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="2gp-testing.html">Testing with Second-Generation Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="headless.html">Run CumulusCI Headlessly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="packaging.html">Release Managed and Unlocked Packages</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Release Managed and Unlocked Packages</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="managed-package.html">Release a First-Generation Managed Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="managed-2gp.html">Release a Second-Generation Managed Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="unlocked-package.html">Release an Unlocked Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="npsp-eda-2gp.html">Extend NPSP and EDA with Second-Generation Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes.html">Generate Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="push-upgrades.html">Manage Push Upgrades</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="unpackaged.html">Manage Unpackaged Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Manage Unpackaged Configuration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="metadata-etl.html">Metadata ETL</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cheat-sheet.html">Cheat Sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="flows.html">Flow Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="env-var-reference.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="org_config-reference.html">org_config Object Reference</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="about.html">About CumulusCI</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of About CumulusCI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contribute to CumulusCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html">History</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/robot-advanced.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="robot-advanced-topics">
<h1>Robot Advanced Topics<a class="headerlink" href="#robot-advanced-topics" title="Link to this heading">¶</a></h1>
<p>In the previous section we gave a broad overview of how Robot Framework
is integrated with CumulsCI. In this section we’ll take a deeper dive
into some advanced topics.</p>
<section id="running-cumulusci-tasks">
<h2>Running CumulusCI Tasks<a class="headerlink" href="#running-cumulusci-tasks" title="Link to this heading">¶</a></h2>
<p>CumulusCI provides two keywords for running a task from within a robot
test case: <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#CumulusCI.Run-Task">Run Task</a> and <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#CumulusCI.Run-Task-Class">Run Task
Class</a>.</p>
<p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#CumulusCI.Run-Task">Run Task</a> can be used to run any
CumulusCI tasks configured for the project. Tasks run can be any of
CumulusCI’s standard tasks as well as project-specific custom tasks
from the project’s <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file. <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">Task</span></code> accepts a single
argument, the task name, along with any arguments required by the task.</p>
<p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#CumulusCI.Run-Task-Class">Run Task Class</a> works in a
similar fashion, but the task can be specified as a python class rather
than a task name. For example, you can use this keyword to run logic
from CumulusCI tasks which have not been configured in the project’s
cumulusci.yml file. This is most useful in cases where a test needs to
use task logic for logic unique to the test and thus not worth making
into a named task for the project.</p>
</section>
<section id="performance-testing">
<h2>Performance Testing<a class="headerlink" href="#performance-testing" title="Link to this heading">¶</a></h2>
<p>The Salesforce keyword library somes with several keywords to aid in
performance testing.</p>
<section id="setting-the-elapsed-time">
<h3>Setting the elapsed time<a class="headerlink" href="#setting-the-elapsed-time" title="Link to this heading">¶</a></h3>
<p>Normally, the full execution time of a test is recorded in the robot
framework log. This includes the time spent in both test setup and
teardown. Sometimes it is preferable to report only the time spent in
the test case itself.</p>
<p>The <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Set-Test-Elapsed-Time">Set Test Elapsed
Time</a> keyword
allows you to record a computed elapsed time. For example, when
performance testing a Salesforce batch process, you have the option to
store the Salesforce-measured elapsed time of the batch process instead
of the time measured in the CumulusCI client process.</p>
<p>The <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Set-Test-Elapsed-Time">Set Test Elapsed
Time</a> keyword
takes a single optional argument, either a number of seconds or a <a class="reference external" href="https://robotframework.org/robotframework/latest/libraries/DateTime.html#Time%20formats">Robot
time
string</a>.</p>
<p>When using this keyword, the tag <code class="docutils literal notranslate"><span class="pre">cci_metric_elapsed_time</span></code> will
automatically be added to the test case.</p>
<p>When the test is run via MetaCI, the computed time will be retrieve and
stored inside MetaCI instead of the total elapsed time as measured by
Robot Framework.</p>
</section>
<section id="start-and-end-performance-time">
<h3>Start and End Performance Time<a class="headerlink" href="#start-and-end-performance-time" title="Link to this heading">¶</a></h3>
<p>A time can be recorded for any group of keywords by calling Start
Performance Timer and Stop Performance Timer. The latter will
automatically call the <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Set-Test-Elapsed-Time">Set Test Elapsed
Time</a> keyword.</p>
<p>The <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Start-Performance-Timer">Start Performance
Timer</a> keyword
starts a timer. The <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Stop-Performance-Timer">Stop Performance
Timer</a> keyword
stops the timer and stores the result with <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Set-Test-Elapsed-Time">Set Test Elapsed
Time</a>.</p>
</section>
<section id="setting-test-metrics">
<h3>Setting Test Metrics<a class="headerlink" href="#setting-test-metrics" title="Link to this heading">¶</a></h3>
<p>The <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Set-Test-Metric">Set Test Metric</a>
keyword retrieves any metric for performance monitoring, such as number
of queries, rows processed, CPU usage, and more.</p>
<p>The keyword takes a metric name, which can be any string, and a value,
which can be any number.</p>
<p>Using this keyword will automatically add the tag <code class="docutils literal notranslate"><span class="pre">cci_metric</span></code> to the
test case and <code class="docutils literal notranslate"><span class="pre">${cci_metric_&lt;metric_name&gt;}</span></code> to the test’s variables.
These permit downstream processing in tools like CCI and MetaCI.</p>
<p>Note: <code class="docutils literal notranslate"><span class="pre">cci_metric</span></code> is not included in Robot’s html statistical
roll-ups.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="c">Set Test Metric</span><span class="p">    </span><span class="c">Max_CPU_Percent</span><span class="p">    </span><span class="c">30</span>
</pre></div>
</div>
<p>Performance test metrics are output in the CCI logs, log.html and
output.xml. MetaCI captures them but does not currently have a user
interface for displaying them.</p>
</section>
<section id="elapsed-time-for-last-record">
<h3>Elapsed Time for Last Record<a class="headerlink" href="#elapsed-time-for-last-record" title="Link to this heading">¶</a></h3>
<p>The <a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Elapsed-Time-For-Last-Record">Elapsed Time For Last
Record</a>
keyword queries Salesforce for its recorded log of a job.</p>
<p>For example, to query an Apex bulk job:</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="c">${time_in_seconds} =</span><span class="p">    </span><span class="c">Elapsed Time For Last Record</span>
<span class="c">...</span><span class="p">             </span><span class="c">obj_name=AsyncApexJob</span>
<span class="c">...</span><span class="p">             </span><span class="c">where=ApexClass.Name=&#39;BlahBlah&#39;</span>
<span class="c">...</span><span class="p">             </span><span class="c">start_field=CreatedDate</span>
<span class="c">...</span><span class="p">             </span><span class="c">end_field=CompletedDate</span>
<span class="c">...</span><span class="p">             </span><span class="c">order_by=CompletedDate</span>
</pre></div>
</div>
</section>
</section>
<section id="browser-testing">
<h2>Browser Testing<a class="headerlink" href="#browser-testing" title="Link to this heading">¶</a></h2>
<p>Testing salesforce from within a browser presents some unique
challenges. This section covers some Salesforce-specific features of our
keyword libraries.</p>
<section id="waiting-for-lightning-ui">
<h3>Waiting for Lightning UI<a class="headerlink" href="#waiting-for-lightning-ui" title="Link to this heading">¶</a></h3>
<p>A common challenge when writing end-to-end UI tests is waiting for
asynchronous actions to complete before proceeding to run the next
interaction. The Salesforce Library is aware of the Lightning UI and can
handle waiting automatically. After each click, the Salesforce Library
waits for any pending requests to the server to complete. (Manually
waiting using “sleep”, or waiting for a particular element to appear,
can still be necessary after specific interactions, and when interacting
with pages that don’t use the Lightning UI.)</p>
</section>
</section>
<section id="api-keywords">
<h2>API Keywords<a class="headerlink" href="#api-keywords" title="Link to this heading">¶</a></h2>
<p>In addition to browser interactions, the Salesforce Library also
provides keywords for interacting with the Salesforce REST API. Here are
the keywords we provide which talk directly to Salesforce via an API
rather than through the UI:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Salesforce-Collection-Insert">Salesforce Collection
Insert</a>:
Creates a collection of objects based on a template.</p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Salesforce-Collection-Update">Salesforce Collection
Update</a>:
Updates a collection of objects.</p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Salesforce-Delete">Salesforce Delete</a>:
Deletes a record using its type and ID.</p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Salesforce-Get">Salesforce Get</a>: Gets a
dictionary of a record from its ID.</p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Salesforce-Insert">Salesforce Insert</a>:
Inserts a record using its type and field values. Returns the ID.</p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Salesforce-Query">Salesforce Query</a>:
Runs a simple query using the <code class="docutils literal notranslate"><span class="pre">object</span> <span class="pre">type</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;field_name=value&gt;</span></code>
syntax. Returns a list of matching record dictionaries.</p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.Salesforce-Update">Salesforce Update</a>:
Updates a record using its type, ID, and <code class="docutils literal notranslate"><span class="pre">&lt;field_name=value&gt;</span></code>
syntax.</p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#Salesforce.SOQL-Query">SOQL Query</a>: Runs a SOQL
query and returns a REST API result dictionary.</p></li>
</ul>
<p>Using Page Objects —————–</p>
<p>The
<a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#file-cumulusci.robotframework.PageObjects">PageObjects</a>
library provides support for page objects, Robot Framework-style. Even
though Robot is a keyword-driven framework, it’s also possible to
dynamically load in keywords unique to a page or an object on the page.</p>
<p>With the <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library, you can define classes that represent
page objects. Each class provides keywords that are unique to a page or
a component. These classes can be imported on demand only for tests that
use these pages or components.</p>
<section id="the-pageobject-decorator">
<h3>The <code class="docutils literal notranslate"><span class="pre">pageobject</span></code> Decorator<a class="headerlink" href="#the-pageobject-decorator" title="Link to this heading">¶</a></h3>
<p>Page objects are normal Python classes that use the <code class="docutils literal notranslate"><span class="pre">pageobject</span></code>
decorator provided by CumulusCI. Unlike traditional Robot Framework
keyword libraries, you can easily define and use keywords in multiple
classes within a single file.</p>
<p>To create a page object class, start by inheriting from one of the
provided base classes. You need to use the <code class="docutils literal notranslate"><span class="pre">pageobject</span></code> decorator to
designate the class as a page object, and to describe the type of page
(Listing, Detail, etc) and the associated salesfore object. From within
a test, these page objects are referenced using both the type and object
name (eg: <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">to</span> <span class="pre">page</span> <span class="pre">Listing</span> <span class="pre">CustomObject__c</span></code>).</p>
<p>The following example illustrates how to create a <code class="docutils literal notranslate"><span class="pre">Listing</span></code> page object
for <code class="docutils literal notranslate"><span class="pre">CustomObject__c</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">cumulusci.robotframework.pageobjects</span><span class="w"> </span><span class="kn">import</span> <span class="n">ListingPage</span><span class="p">,</span> <span class="n">pageobject</span>

<span class="nd">@pageobject</span><span class="p">(</span><span class="n">page_type</span><span class="o">=</span><span class="s1">&#39;Listing&#39;</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s1">&#39;CustomObject__c&#39;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomObjectListingPage</span><span class="p">(</span><span class="n">ListingPage</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<section id="using-object-aliases">
<h4>Using object aliases<a class="headerlink" href="#using-object-aliases" title="Link to this heading">¶</a></h4>
<p>Within a test, if you want to refer to the page object with a more
human-readable name such as <code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">Object</span></code> rather than
<code class="docutils literal notranslate"><span class="pre">CustomObject__c</span></code> you can do so by setting <code class="docutils literal notranslate"><span class="pre">object_name</span></code> to
<code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">Object</span></code> and then defining <code class="docutils literal notranslate"><span class="pre">_object_name</span></code> in the class, as in the
following example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">cumulusci.robotframework.pageobjects</span><span class="w"> </span><span class="kn">import</span> <span class="n">ListingPage</span><span class="p">,</span> <span class="n">pageobject</span>

<span class="nd">@pageobject</span><span class="p">(</span><span class="n">page_type</span> <span class="o">=</span> <span class="s1">&#39;Listing&#39;</span><span class="p">,</span> <span class="n">object_name</span> <span class="o">=</span> <span class="s1">&#39;My Object&#39;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomObjectListingPage</span><span class="p">(</span><span class="n">ListingPage</span><span class="p">):</span>
    <span class="n">_object_name</span> <span class="o">=</span> <span class="s1">&#39;MyObject__c&#39;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>By using an alias, you can reference the page object with either the
alias or the actual object name. For example, if <code class="docutils literal notranslate"><span class="pre">object_name</span></code> is set as
described above, the following two uses of <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">to</span> <span class="pre">page</span></code> are identical:</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="c">Go to page</span><span class="p">  </span><span class="c">Listing</span><span class="p">  </span><span class="c">My Object</span>
<span class="c">Go to page</span><span class="p">  </span><span class="c">Listing</span><span class="p">  </span><span class="c">MyObject__c</span>
</pre></div>
</div>
</section>
</section>
<section id="page-object-base-classes">
<span id="id1"></span><h3>Page Object Base Classes<a class="headerlink" href="#page-object-base-classes" title="Link to this heading">¶</a></h3>
<p>CumulusCI provides the following base classes, which should be used for
all classes that use the <code class="docutils literal notranslate"><span class="pre">pageobject</span></code> decorator. You can import these
base classes from <code class="docutils literal notranslate"><span class="pre">cumulusci.robotframework.pageobjects</span></code>.</p>
<ul>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#file-cumulusci/robotframework/pageobjects/BasePageObjects.py">cumulusci.robotframework.pageobjects.BasePage</a> A generic base class used by the other pageobject classes. Use the <code class="docutils literal notranslate"><span class="pre">BasePage</span></code> class for creating custom page objects when none of the other base classes make sense.</p>
<p>: - The <code class="docutils literal notranslate"><span class="pre">BasePage</span></code> adds the <code class="docutils literal notranslate"><span class="pre">Log</span> <span class="pre">current</span> <span class="pre">page</span> <span class="pre">object</span></code> keyword to
every page object. This keyword is most useful when
debugging tests. It will add information about the currently
loaded page object to the log file generated when the test
runs.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulusci.robotframework.pageobjects.DetailPage</span></code>: A class for a
page object that represents a detail page.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulusci.robotframework.pageobjects.HomePage</span></code>: A class for a page
object that represents a home page.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulusci.robotframework.pageobjects.ListingPage</span></code>: A class for a
page object that represents a listing page.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulusci.robotframework.pageobject.NewModal</span></code>: A class for a page
object that represents the “new object” modal.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cumulusci.robotframework.pageobject.ObjectManagerPage</span></code>: A class for
interacting with the object manager.</p></li>
</ul>
</section>
<section id="common-page-object-attributes">
<h3>Common page object attributes<a class="headerlink" href="#common-page-object-attributes" title="Link to this heading">¶</a></h3>
<p>When using the decorator and inheriting from one of the page object base
classes, your class inherits the following attributes and properties.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self._object_name</span></code>: The name of the object related to the class. If
the class does not define this property, it is set to the value
provided as the <code class="docutils literal notranslate"><span class="pre">object_name</span></code> parameter to the <code class="docutils literal notranslate"><span class="pre">pageobject</span></code>
decorator. Note: do not add the namespace prefix in the decorator.
This attribute automatically adds the prefix from the
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file when necessary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.object_name</span></code>: A property that combines the <code class="docutils literal notranslate"><span class="pre">_object_name</span></code>
attribute with the namespace returned by the <code class="docutils literal notranslate"><span class="pre">get</span> <span class="pre">namespace</span> <span class="pre">prefix</span></code>
keyword from the CumulusCI library. If there is no namespace, this
returns the value of the <code class="docutils literal notranslate"><span class="pre">_object_name</span></code> attribute.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.builtin</span></code>: A reference to the Robot Framework <code class="docutils literal notranslate"><span class="pre">BuiltIn</span></code> library
that you can use to directly call built-in keywords. You can call
any built-in keyword by converting the name to all lowercase, and
replacing all spaces with underscores (such as <code class="docutils literal notranslate"><span class="pre">self.builtin.log</span></code>
and <code class="docutils literal notranslate"><span class="pre">self.builtin.get_variable_value</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.cumulusci</span></code>: A reference to the CumulusCI keyword library. You
can call any keyword in this library by converting the name to all
lowercase, and replacing all spaces with underscores (such as
<code class="docutils literal notranslate"><span class="pre">self.cumulusci.get_org_info</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.salesforce</span></code>: A reference to the Salesforce keyword library.
You can call any keyword in this library by converting the name to
all lowercase, and replacing all spaces with underscores (such as
<code class="docutils literal notranslate"><span class="pre">self.salesforce.wait_until_loading_is_complete</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.selenium</span></code>: A reference to SeleniumLibrary. You can call any
keyword in this library by converting the name to all lowercase, and
replacing all spaces with underscores (such as
<code class="docutils literal notranslate"><span class="pre">self.selenim.wait_until_page_contains_element</span></code>).</p></li>
</ul>
</section>
<section id="example-page-object">
<h3>Example Page Object<a class="headerlink" href="#example-page-object" title="Link to this heading">¶</a></h3>
<p>This example shows the definition of a page object for the listing page
of custom object <code class="docutils literal notranslate"><span class="pre">MyObject__c</span></code> wherein a new custom keyword,
<code class="docutils literal notranslate"><span class="pre">Click</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">row</span> <span class="pre">with</span> <span class="pre">name</span></code>, is added.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">cumulusci.robotframework.pageobjects</span><span class="w"> </span><span class="kn">import</span> <span class="n">pageobject</span><span class="p">,</span> <span class="n">ListingPage</span>

<span class="nd">@pageobject</span><span class="p">(</span><span class="n">page_type</span><span class="o">=</span><span class="s2">&quot;Listing&quot;</span><span class="p">,</span> <span class="n">object_name</span><span class="o">=</span><span class="s2">&quot;MyObject__c&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyObjectListingPage</span><span class="p">(</span><span class="n">ListingPage</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">click_on_the_row_with_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">click_link</span><span class="p">(</span><span class="s1">&#39;xpath://a[@title=&quot;</span><span class="si">{}</span><span class="s1">&quot;]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salesforce</span><span class="o">.</span><span class="n">wait_until_loading_is_complete</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="importing-the-page-object-library-into-a-test">
<h3>Importing the Page Object Library Into a Test<a class="headerlink" href="#importing-the-page-object-library-into-a-test" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library is not only a keyword library, but also the
mechanism to import files that contain page object classes. You can
import these files by providing the paths to one or more Python files
that implement page objects. You can also import <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> without
passing any files to it to take advantage of general purpose page
objects.</p>
<p>For example, consider a case where you create two files that each have
one or more page object definitions: <code class="docutils literal notranslate"><span class="pre">PageObjects.py</span></code> and
<code class="docutils literal notranslate"><span class="pre">MorePageObjects.py</span></code>, both located in the <code class="docutils literal notranslate"><span class="pre">robot/MyProject/resources</span></code>
folder. You can import these page objects from these files into a test
suite.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Library</span><span class="p">         </span><span class="nn">cumulusci.robotframework.PageObjects</span>
<span class="p">...  </span><span class="s">robot/MyProject/resources/PageObjects.py</span>
<span class="p">...  </span><span class="s">robot/MyProject/resources/MorePageObjects.py</span>
</pre></div>
</div>
</section>
<section id="using-page-objects">
<h3>Using Page Objects<a class="headerlink" href="#using-page-objects" title="Link to this heading">¶</a></h3>
<p>As mentioned in the previous section, you must first import the
<code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library and any custom page object files you wish to use.</p>
<p>Next, either explicitly load the keywords for a page object, or
reference a page object with one of the generic <a class="reference internal" href="#page-object-keywords"><span class="std std-ref">page object
keywords</span></a> provided by the <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library.</p>
<p>To explicitly load the keywords for a page object, use the
<code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Page</span> <span class="pre">Object</span></code> keyword provided by the <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library. If
successful, the <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library will automatically import the
keywords.</p>
<p>For example, call the <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">To</span> <span class="pre">Page</span></code> keyword followed by a page object
reference. If the keyword (or page object reference?) navigates you to
the proper page, its keywords will automatically be loaded.</p>
</section>
<section id="page-object-keywords">
<span id="id2"></span><h3>Page Object Keywords<a class="headerlink" href="#page-object-keywords" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library provides these keywords.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#PageObjects.Current-Page-Should-Be">Current Page Should
Be</a></p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#PageObjects.Get-Page-Object">Get Page Object</a></p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#PageObjects.Go-To-Page-Object">Go To Page
Object</a></p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#PageObjects.Load-Page-Object">Load Page Object</a></p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#PageObjects.Log-Page-Object">Log Page Object
Keywords</a></p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#PageObjects.Wait-For-Modal">Wait For Modal</a></p></li>
<li><p><a class="reference external" href="https://cumulusci.readthedocs.io/en/stable/Keywords.html#PageObjects.Wait-For-Page-Object">Wait For Page
Object</a></p></li>
</ul>
</section>
<section id="current-page-should-be">
<h3>Current Page Should Be<a class="headerlink" href="#current-page-should-be" title="Link to this heading">¶</a></h3>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">Page</span> <span class="pre">Should</span> <span class="pre">Be</span> <span class="pre">Listing</span> <span class="pre">Contact</span></code></p>
<p>This keyword attempts to validate that the given page object represents
the current page. Each page object may use its own method for making the
determination, but the built-in page objects all compare the page
location to an expected pattern (such as <code class="docutils literal notranslate"><span class="pre">.../lightning/o/...</span></code>). If the
assertion passes, the keywords for that page object automatically load.</p>
<p>This keyword is useful if you get to a page via a button or some other
form of navigation because it lets you assert that you are on the page
you think you should be on, and load the keywords for that page, with a
single statement.</p>
<section id="get-page-object">
<h4>Get Page Object<a class="headerlink" href="#get-page-object" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Get</span> <span class="pre">page</span> <span class="pre">object</span> <span class="pre">Listing</span> <span class="pre">Contact</span></code></p>
<p>This keyword is most often used to get the reference to a keyword from
another keyword. It is similar in function to robot’s built-in <a class="reference external" href="http://robotframework.org/robotframework/latest/libraries/BuiltIn.html#Get%20Library%20Instance">Get
Library
Instance</a>
keyword. It is rarely used in a test.</p>
</section>
<section id="go-to-page">
<h4>Go To Page<a class="headerlink" href="#go-to-page" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">to</span> <span class="pre">page</span> <span class="pre">Listing</span> <span class="pre">Contact</span></code></p>
<p>This keyword attempts to go to the listing page for the Contact object,
and then load the keywords for that page.</p>
</section>
<section id="log-page-object-keywords">
<h4>Log Page Object Keywords<a class="headerlink" href="#log-page-object-keywords" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Log</span> <span class="pre">Page</span> <span class="pre">Object</span> <span class="pre">Keywords</span></code></p>
<p>This keyword is primarily used as a debugging tool. When called, it will
log each of the keywords for the current page object.</p>
</section>
<section id="load-page-object">
<h4>Load Page Object<a class="headerlink" href="#load-page-object" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">page</span> <span class="pre">object</span> <span class="pre">Listing</span> <span class="pre">Contact</span></code></p>
<p>This keyword loads the page object for the given <code class="docutils literal notranslate"><span class="pre">page_type</span></code> and
<code class="docutils literal notranslate"><span class="pre">object_name</span></code>. It is useful when you want to use keywords from a page
object without first navigating to that page (for example, when you are
already on the page and don’t want to navigate away).</p>
</section>
<section id="wait-for-modal">
<h4>Wait for Modal<a class="headerlink" href="#wait-for-modal" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Wait</span> <span class="pre">for</span> <span class="pre">modal</span> <span class="pre">New</span> <span class="pre">Contact</span></code></p>
<p>This keyword can be used to wait for a modal, such as the one that pops
up when creating a new object. The keyword returns once a modal appears,
and has a title of <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">&lt;object_name&gt;</span></code> (such as “New Contact”).</p>
</section>
<section id="wait-for-page-object">
<h4>Wait for Page Object<a class="headerlink" href="#wait-for-page-object" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Wait</span> <span class="pre">for</span> <span class="pre">page</span> <span class="pre">object</span> <span class="pre">Popup</span> <span class="pre">ActivityManager</span></code></p>
<p>Page objects don’t have to represent entire pages. You can use the
<code class="docutils literal notranslate"><span class="pre">Wait</span> <span class="pre">for</span> <span class="pre">page</span> <span class="pre">object</span></code> keyword to wait for a page object representing a
single element on a page, such as a popup window.</p>
</section>
</section>
<section id="generic-page-objects">
<h3>Generic Page Objects<a class="headerlink" href="#generic-page-objects" title="Link to this heading">¶</a></h3>
<p>You don’t need to create a page object in order to take advantage of
page object keywords. If you use one of the page object keywords for a
page that does not have its own page object, the <code class="docutils literal notranslate"><span class="pre">PageObjects</span></code> library
attempts to find a generic page.</p>
<p>For example, if you use <code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">page</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">Home</span> <span class="pre">Event</span></code> and there
is no page object by that name, a generic <code class="docutils literal notranslate"><span class="pre">Home</span></code> page object will be
loaded, and its object name will be set to <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p>
<p>Or let’s say your project has created a custom object named
<code class="docutils literal notranslate"><span class="pre">Island__c</span></code>. You don’t have a home page, but the object does have a
standard listing page. Without creating any page objects, this test
works by using generic implementations of the <code class="docutils literal notranslate"><span class="pre">Home</span></code> and <code class="docutils literal notranslate"><span class="pre">Listing</span></code> page
objects:</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Test Cases ***</span>
<span class="gu">Example test which uses generic page objects</span>
<span class="p">    </span><span class="c">## Go to the custom object home page, which should</span>
<span class="p">    </span><span class="c">## redirect to the listing page</span>
<span class="p">    </span><span class="nf">Go To Page</span><span class="p">  </span><span class="s">Home</span><span class="p">  </span><span class="s">Island__c</span>

<span class="p">    </span><span class="c">## Verify that the redirect happened</span>
<span class="p">    </span><span class="nf">Current Page Should Be</span><span class="p">  </span><span class="s">Listing</span><span class="p">  </span><span class="s">Island__c</span>
</pre></div>
</div>
<p>CumulusCI provides these generic page objects.</p>
<section id="detail">
<h4>Detail<a class="headerlink" href="#detail" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">to</span> <span class="pre">page</span> <span class="pre">Detail</span> <span class="pre">Contact</span> <span class="pre">${contact</span> <span class="pre">id}</span></code></p>
<p>Detail pages refer to pages with a URL that matches the pattern
<code class="docutils literal notranslate"><span class="pre">&lt;host&gt;/lightning/r/&lt;object</span> <span class="pre">name&gt;/&lt;object</span> <span class="pre">id&gt;/view</span></code>.</p>
</section>
<section id="home">
<h4>Home<a class="headerlink" href="#home" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">to</span> <span class="pre">page</span> <span class="pre">Home</span> <span class="pre">Contact</span></code></p>
<p>Home pages refer to pages with a URL that matches the pattern
“&lt;host&gt;/lightning/o/&lt;object name&gt;/home”</p>
</section>
</section>
<section id="listing">
<h3><code class="docutils literal notranslate"><span class="pre">Listing</span></code><a class="headerlink" href="#listing" title="Link to this heading">¶</a></h3>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Go</span> <span class="pre">to</span> <span class="pre">page</span> <span class="pre">Listing</span> <span class="pre">Contact</span></code></p>
<p>Listing pages refer to pages with a URL that matches the pattern
“&lt;host&gt;b/lightning/o/&lt;object name&gt;/list”</p>
<section id="new">
<h4>New<a class="headerlink" href="#new" title="Link to this heading">¶</a></h4>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Wait</span> <span class="pre">for</span> <span class="pre">modal</span> <span class="pre">New</span> <span class="pre">Contact</span></code></p>
<p>The New page object refers to the modal that pops up when creating a new
object.</p>
<p>Of course, the real power comes when you create your own page object
class that implements keywords that can be used with your custom
objects.</p>
</section>
</section>
</section>
<section id="configuring-the-robot-libdoc-task">
<h2>Configuring the robot_libdoc Task<a class="headerlink" href="#configuring-the-robot-libdoc-task" title="Link to this heading">¶</a></h2>
<p>If you define a robot resource file named <code class="docutils literal notranslate"><span class="pre">MyProject.resource</span></code> and place
it in the <code class="docutils literal notranslate"><span class="pre">resources</span></code> folder, you can add this configuration to the
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file to enable the <code class="docutils literal notranslate"><span class="pre">robot_libdoc</span></code> task to generate
documentation.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">robot_libdoc</span><span class="p">:</span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generates HTML documentation for the MyProject Robot Framework Keywords</span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span>
<span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robot/MyProject/resources/MyProject.resource</span>
<span class="w">            </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robot/MyProject/doc/MyProject_Library.html</span>
</pre></div>
</div>
<p>Normally this task will generate HTML output. If the output file ends
with “.csv”, a csv file will be generated instead.</p>
<p>To generate documentation for more than one keyword file or library,
give a comma-separated list of files for the <code class="docutils literal notranslate"><span class="pre">path</span></code> option, or define
<code class="docutils literal notranslate"><span class="pre">path</span></code> as a list under <code class="docutils literal notranslate"><span class="pre">tasks__robot_libdoc</span></code> in the <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code>
file.</p>
<p>For example, generate documentation for <code class="docutils literal notranslate"><span class="pre">MyLibrary.py</span></code> and
<code class="docutils literal notranslate"><span class="pre">MyLibrary.resource</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">robot_libdoc</span><span class="p">:</span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generates HTML documentation for the MyProject Robot Framework Keywords</span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span>
<span class="w">            </span><span class="nt">path</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robot/MyProject/resources/MyProject.resource</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robot/MyProject/resources/MyProject.py</span>
<span class="w">            </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robot/MyProject/doc/MyProject_Library.html</span>
</pre></div>
</div>
<p>You can also use basic filesystem wildcards.</p>
<p>For example, to document all Robot files in <code class="docutils literal notranslate"><span class="pre">robot/MyProject/resources</span></code>,
configure the <code class="docutils literal notranslate"><span class="pre">path</span></code> option under <code class="docutils literal notranslate"><span class="pre">tasks__robot_libdoc</span></code> in the
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">robot_libdoc</span><span class="p">:</span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generates HTML documentation for the MyProject Robot Framework Keywords</span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span>
<span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robot/MyProject/resources/*.resource</span>
<span class="w">            </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robot/MyProject/doc/MyProject_Library.html</span>
</pre></div>
</div>
</section>
<section id="using-keywords-and-tests-from-a-different-project">
<h2>Using Keywords and Tests from a Different Project<a class="headerlink" href="#using-keywords-and-tests-from-a-different-project" title="Link to this heading">¶</a></h2>
<p>Much like you can <a class="reference internal" href="config.html#tasks-and-flows-from-a-different-project"><span class="std std-ref">use tasks and flows from a different project</span></a>, you can also use keywords and tests from other
projects. The keywords are brought into your repository the same way as
with tasks and flows, via the <code class="docutils literal notranslate"><span class="pre">sources</span></code> configuration option in the
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file. However, keywords and tests require extra
configuration before they can be used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature isn’t for general purpose sharing of keywords between
multiple projects. It was designed specifically for the case where a
product is being built on top of another project and needs access to
product-specific keywords.</p>
</div>
<section id="using-keywords">
<h3>Using Keywords<a class="headerlink" href="#using-keywords" title="Link to this heading">¶</a></h3>
<p>In order to use the resources from another project, you must first
configure the <code class="docutils literal notranslate"><span class="pre">robot</span></code> task to use one of the sources that have been
defined for the project. To do this, add a <code class="docutils literal notranslate"><span class="pre">sources</span></code> option under the
<code class="docutils literal notranslate"><span class="pre">robot</span></code> task, and add to it the name of an imported source.</p>
<p>For exmple, if your project is built on top of NPSP, and you want to use
keywords from the NPSP project, first add the NPSP repository as a
source in the project’s <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sources</span><span class="p">:</span>
<span class="w">    </span><span class="nt">npsp</span><span class="p">:</span>
<span class="w">        </span><span class="nt">github</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/SalesforceFoundation/NPSP</span>
<span class="w">        </span><span class="nt">release</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">latest_beta</span>
</pre></div>
</div>
<p>Then add <code class="docutils literal notranslate"><span class="pre">npsp</span></code> under the <code class="docutils literal notranslate"><span class="pre">sources</span></code> option for the robot task. This is
because the project as a whole can use tasks or flows from multiple
projects, but <code class="docutils literal notranslate"><span class="pre">robot</span></code> only needs keywords from a single project.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">robot</span><span class="p">:</span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span>
<span class="w">            </span><span class="nt">sources</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npsp</span>
</pre></div>
</div>
<p>When the <code class="docutils literal notranslate"><span class="pre">robot</span></code> task runs, it adds the directory that contains the code
for the other repository to <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>, which Robot uses when
resolving references to libraries and keyword files.</p>
<p>Once this configuration has been saved, you can import the resources as
if you were in the NPSP repository.</p>
<p>For example, in a project which has been configured to use NPSP as a
source, the <code class="docutils literal notranslate"><span class="pre">NPSP.robot</span></code> file can be imported into a test suite.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span>
<span class="kn">Resource</span><span class="p">   </span><span class="nn">robot/Cumulus/resources/NPSP.robot</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even with proper configuration, some keywords or keyword libraries might
not be usable. Be careful to avoid using files that have the exact same
name in multiple repositories.</p>
</div>
</section>
<section id="running-tests">
<h3>Running Tests<a class="headerlink" href="#running-tests" title="Link to this heading">¶</a></h3>
<p>Running a test from another project requires prefixing the path to the
test with the source name. The path needs to be relative to the root of
the other repo.</p>
<p>For example, starting from the previous example, to run the
<code class="docutils literal notranslate"><span class="pre">create_organization.robot</span></code> test suite from NPSP:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>robot<span class="w"> </span>--suites<span class="w"> </span>npsp:robot/Cumulus/tests/browser/contacts_accounts/create_organization.robot
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="robot-tutorial.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Robot Tutorial</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="robot-locators.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Managing Locators</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Salesforce.org
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Robot Advanced Topics</a><ul>
<li><a class="reference internal" href="#running-cumulusci-tasks">Running CumulusCI Tasks</a></li>
<li><a class="reference internal" href="#performance-testing">Performance Testing</a><ul>
<li><a class="reference internal" href="#setting-the-elapsed-time">Setting the elapsed time</a></li>
<li><a class="reference internal" href="#start-and-end-performance-time">Start and End Performance Time</a></li>
<li><a class="reference internal" href="#setting-test-metrics">Setting Test Metrics</a></li>
<li><a class="reference internal" href="#elapsed-time-for-last-record">Elapsed Time for Last Record</a></li>
</ul>
</li>
<li><a class="reference internal" href="#browser-testing">Browser Testing</a><ul>
<li><a class="reference internal" href="#waiting-for-lightning-ui">Waiting for Lightning UI</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-keywords">API Keywords</a><ul>
<li><a class="reference internal" href="#the-pageobject-decorator">The <code class="docutils literal notranslate"><span class="pre">pageobject</span></code> Decorator</a><ul>
<li><a class="reference internal" href="#using-object-aliases">Using object aliases</a></li>
</ul>
</li>
<li><a class="reference internal" href="#page-object-base-classes">Page Object Base Classes</a></li>
<li><a class="reference internal" href="#common-page-object-attributes">Common page object attributes</a></li>
<li><a class="reference internal" href="#example-page-object">Example Page Object</a></li>
<li><a class="reference internal" href="#importing-the-page-object-library-into-a-test">Importing the Page Object Library Into a Test</a></li>
<li><a class="reference internal" href="#using-page-objects">Using Page Objects</a></li>
<li><a class="reference internal" href="#page-object-keywords">Page Object Keywords</a></li>
<li><a class="reference internal" href="#current-page-should-be">Current Page Should Be</a><ul>
<li><a class="reference internal" href="#get-page-object">Get Page Object</a></li>
<li><a class="reference internal" href="#go-to-page">Go To Page</a></li>
<li><a class="reference internal" href="#log-page-object-keywords">Log Page Object Keywords</a></li>
<li><a class="reference internal" href="#load-page-object">Load Page Object</a></li>
<li><a class="reference internal" href="#wait-for-modal">Wait for Modal</a></li>
<li><a class="reference internal" href="#wait-for-page-object">Wait for Page Object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#generic-page-objects">Generic Page Objects</a><ul>
<li><a class="reference internal" href="#detail">Detail</a></li>
<li><a class="reference internal" href="#home">Home</a></li>
</ul>
</li>
<li><a class="reference internal" href="#listing"><code class="docutils literal notranslate"><span class="pre">Listing</span></code></a><ul>
<li><a class="reference internal" href="#new">New</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-the-robot-libdoc-task">Configuring the robot_libdoc Task</a></li>
<li><a class="reference internal" href="#using-keywords-and-tests-from-a-different-project">Using Keywords and Tests from a Different Project</a><ul>
<li><a class="reference internal" href="#using-keywords">Using Keywords</a></li>
<li><a class="reference internal" href="#running-tests">Running Tests</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=dac0bbfe"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>