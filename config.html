<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="about.html" /><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Configure Metadata Deployment" href="deploy.html" /><link rel="prev" title="The cci Command Line" href="cli.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->
        <title>Configure CumulusCI - CumulusCI 4.6.0.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">CumulusCI 4.6.0.dev1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">CumulusCI 4.6.0.dev1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="get-started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">The <code class="docutils literal notranslate"><span class="pre">cci</span></code> Command Line</a></li>
<li class="toctree-l1 current has-children current-page"><a class="current reference internal" href="#">Configure CumulusCI</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Configure CumulusCI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">Configure Metadata Deployment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scratch-orgs.html">Manage Scratch Orgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="connected-orgs.html">Connect Persistent Orgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Develop a Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Automate Data Operations</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="robot.html">Acceptance Testing with Robot Framework</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Acceptance Testing with Robot Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="robot-locators.html">Managing Locators</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-advanced.html">Robot Advanced Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-tutorial.html">Robot Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-debugger.html">Robot Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-playwright.html">Playwright Technology Preview</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="continuous-integration.html">Continuous Integration</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Continuous Integration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cumulusci-flow.html">CumulusCI Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="github-actions.html">Run CumulusCI from GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="2gp-testing.html">Testing with Second-Generation Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="headless.html">Run CumulusCI Headlessly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="packaging.html">Release Managed and Unlocked Packages</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Release Managed and Unlocked Packages</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="managed-package.html">Release a First-Generation Managed Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="managed-2gp.html">Release a Second-Generation Managed Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="unlocked-package.html">Release an Unlocked Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="npsp-eda-2gp.html">Extend NPSP and EDA with Second-Generation Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes.html">Generate Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="push-upgrades.html">Manage Push Upgrades</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="unpackaged.html">Manage Unpackaged Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Manage Unpackaged Configuration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="metadata-etl.html">Metadata ETL</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cheat-sheet.html">Cheat Sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="flows.html">Flow Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="env-var-reference.html">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="org_config-reference.html">org_config Object Reference</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="about.html">About CumulusCI</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of About CumulusCI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contribute to CumulusCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html">History</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/config.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="configure-cumulusci">
<h1>Configure CumulusCI<a class="headerlink" href="#configure-cumulusci" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file is located in the project root directory. This
is where you define project dependencies, configure new tasks and flows,
customize standard tasks and flows for your project, and so much more!</p>
<section id="cumulusci-yml-structure">
<h2><code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> Structure<a class="headerlink" href="#cumulusci-yml-structure" title="Link to this heading">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file contains these top-level sections.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">project</span></code>: Contains information about the project’s associated
package (if any) and GitHub repository. This section is largely
generated by running <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">project</span> <span class="pre">init</span></code>.</p>
<p>If you need custom markup that’s unique to your project, you can
store it in a section called <code class="docutils literal notranslate"><span class="pre">custom</span></code> under <code class="docutils literal notranslate"><span class="pre">project</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">tasks</span></code>: Defines the tasks that are available to run in your
project. See <a class="reference internal" href="#task-configurations"><span class="std std-ref">Task Configurations</span></a> for
configuration options in this section.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flows</span></code>: Defines the flows that are available to run in your
project. See <a class="reference internal" href="#flow-configurations"><span class="std std-ref">Flow Configurations</span></a> for
configuration options in this section.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sources</span></code>: Defines other CumulusCI projects whose tasks and flows
you can use in automation. See
<a class="reference internal" href="#tasks-and-flows-from-a-different-project"><span class="std std-ref">Tasks and Flows from a Different Project</span></a> for more information.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">orgs</span></code>: Defines the scratch org configurations that are available
for your project. See <a class="reference internal" href="#scratch-org-configurations"><span class="std std-ref">Scratch Org Configurations</span></a> for configuration
options in this section.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plans</span></code>: Contains any custom plans defined to install your project
into a customer org. See the <a class="reference internal" href="tasks.html#metadeploy-publish"><span class="std std-ref">metadeploy_publish</span></a> task for more
information.</p></li>
</ul>
</section>
<section id="task-configurations">
<span id="id1"></span><h2>Task Configurations<a class="headerlink" href="#task-configurations" title="Link to this heading">¶</a></h2>
<p>Each task configuration under the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> section of your
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file defines a task that can be run using the
<code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">run</span></code> command, or included in a flow step. With a few simple
changes to this section, you can configure build automation
functionality to suit your project’s specific needs.</p>
<section id="override-a-task-option">
<h3>Override a Task Option<a class="headerlink" href="#override-a-task-option" title="Link to this heading">¶</a></h3>
<p>If you repeatedly specify the same value for an option while running a
task, you can configure CumulusCI to use that value as a default value.</p>
<p>For example: Let’s configure the update_dependencies task to force resolution strategies in sandbox orgs. The task’s <code class="docutils literal notranslate"><span class="pre">force_resolution_strategy</span></code> option controls whether to force the use of specified resolution strategies even in persistent orgs:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">update_dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">force_resolution_strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>When True, this allows beta and 2GP resolvers to be used in sandbox orgs, while still enforcing safety checks in production orgs. When False (default), safety checks are enforced in all persistent orgs.</p>
<p>For example: Let’s enforce a 90% code coverage requirement for Apex
code in your project. The <code class="docutils literal notranslate"><span class="pre">run_tests</span></code> task, which executes all Apex
tests in a target org, can enforce code coverage at a given percentage
by passing the <code class="docutils literal notranslate"><span class="pre">--required_org_code_coverage_percent</span></code> option.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">run_tests</span><span class="p">:</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">required_org_code_coverage_percent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">90</span>
</pre></div>
</div>
<p>When the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> section of the <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file specifies this
option, CumulusCI overrides the default option with a value of <code class="docutils literal notranslate"><span class="pre">90</span></code>.
Whenever this task is executed, its customized options apply, unless
it’s further configured for a particular flow step.</p>
<p>Verify the change by looking for a default option value when running
<code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">info</span> <span class="pre">&lt;name&gt;</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">$ cci task info run_tests</span>
<span class="l l-Scalar l-Scalar-Plain">run_tests</span>

<span class="l l-Scalar l-Scalar-Plain">Description</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Runs all apex tests</span>

<span class="nt">Class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cumulusci.tasks.apex.testrunner.RunApexTests</span>

<span class="l l-Scalar l-Scalar-Plain">Command Syntax</span>

<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">$ cci task run run_tests</span>

<span class="l l-Scalar l-Scalar-Plain">Options</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">.</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">.</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">.</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">-o required_org_code_coverage_percent PERCENTAGE</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Optional</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Require at least X percent code coverage across the org following the test run.</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Default</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">90</span>
</pre></div>
</div>
</section>
<section id="add-a-custom-task">
<span id="id2"></span><h3>Add a Custom Task<a class="headerlink" href="#add-a-custom-task" title="Link to this heading">¶</a></h3>
<p>To define a new task for your project, add the task name under the
<code class="docutils literal notranslate"><span class="pre">tasks</span></code> section of your <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<p>For example, let’s create a custom task named <code class="docutils literal notranslate"><span class="pre">deploy_reports</span></code> that
deploys a set of reports stored in your project’s unpackaged metadata
located in <code class="docutils literal notranslate"><span class="pre">unpackaged/config/reports</span></code>.</p>
<p>First, look up the Python class associated with the standard task
<code class="docutils literal notranslate"><span class="pre">deploy</span></code>. From there we see that the <code class="docutils literal notranslate"><span class="pre">deploy</span></code> task has a <code class="docutils literal notranslate"><span class="pre">class_path</span></code>
value of <code class="docutils literal notranslate"><span class="pre">cumulusci.tasks.salesforce.Deploy</span></code>.</p>
<p>Store the task under the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> section of the <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">deploy_reports</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy Reports</span>
<span class="w">    </span><span class="nt">class_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cumulusci.tasks.salesforce.Deploy</span>
<span class="w">    </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">projectName</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unpackaged/config/reports</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Be sure to include the value we retrieved for <code class="docutils literal notranslate"><span class="pre">class_path</span></code>. Also,
consider adding a common <code class="docutils literal notranslate"><span class="pre">group</span></code> attribute to make it easier to see the
tasks specific to your project when running <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">list</span></code>.</p>
</div>
<p>Congratulations! You created a new custom task in CumulusCI.</p>
</section>
<section id="custom-tasks-in-python">
<h3>Custom Tasks in Python<a class="headerlink" href="#custom-tasks-in-python" title="Link to this heading">¶</a></h3>
<p>You can use Python to implement entirely new functionality. You do so by
putting it in the “tasks” subdiretory of your project. For example, you
might write a file called <code class="docutils literal notranslate"><span class="pre">tasks/write_file_custom_task.py</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">cumulusci.core.tasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseTask</span><span class="p">,</span> <span class="n">CCIOptions</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cumulusci.utils.options</span><span class="w"> </span><span class="kn">import</span> <span class="n">Field</span>


<span class="k">class</span><span class="w"> </span><span class="nc">WriteFileCustomTask</span><span class="p">(</span><span class="n">BaseTask</span><span class="p">):</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Options</span><span class="p">(</span><span class="n">CCIOptions</span><span class="p">):</span>
        <span class="n">mypath</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A filepath to be used by the task&quot;</span><span class="p">)</span>
        <span class="n">mystring</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A string to be used by the task&quot;</span><span class="p">)</span>

    <span class="n">parsed_options</span><span class="p">:</span> <span class="n">Options</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_run_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsed_options</span><span class="o">.</span><span class="n">mypath</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsed_options</span><span class="o">.</span><span class="n">mystring</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wrote </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can make it available to
the project by adding it under the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> section of the
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file. If one does not exist, you can
create one.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">my_new_task</span><span class="p">:</span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">My custom task to write data to a file</span>
<span class="w">            </span><span class="l l-Scalar l-Scalar-Plain">class_path</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tasks.write_file_custom_task.WriteFileCustomTask</span>
<span class="w">            </span><span class="l l-Scalar l-Scalar-Plain">group</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">projectName</span>
</pre></div>
</div>
<p>This task will be accessible directly to this project. It will also
be accessible to any other project that adds this as a source
(see <a class="reference internal" href="#tasks-and-flows-from-a-different-project"><span class="std std-ref">Tasks and Flows from a Different Project</span></a>) with
<code class="docutils literal notranslate"><span class="pre">allow_remote_code:</span> <span class="pre">True</span></code>.</p>
<section id="options-for-custom-tasks">
<h4>Options for Custom Tasks<a class="headerlink" href="#options-for-custom-tasks" title="Link to this heading">¶</a></h4>
<p>Task options are defined by declaring a nested <code class="docutils literal notranslate"><span class="pre">Options</span></code> class. This class must sublass <code class="docutils literal notranslate"><span class="pre">cumulusci.utils.options.CCIOptions</span></code>. These options are validated via the use of <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/">Pydantic models</a> which are generated dynamically for each <code class="docutils literal notranslate"><span class="pre">Options</span></code> class.
Each option can define its own type via either a <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/types/">standard library type</a> or by utilizing a custom type from <a class="reference external" href="https://github.com/SFDO-Tooling/CumulusCI/blob/main/cumulusci/utils/options.py"><code class="docutils literal notranslate"><span class="pre">cumulusci.utils.options</span></code></a>.
Additionally the <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/schema/#field-customisation%60"><code class="docutils literal notranslate"><span class="pre">Field()</span></code></a> function is useful for further customizing options. This can be imported from <code class="docutils literal notranslate"><span class="pre">cumulusci.utils.options</span></code> and used when defining individual options.
It has the same features as the pydantic function.</p>
<p>The task above (<code class="docutils literal notranslate"><span class="pre">WriteFileCustomTask</span></code>) takes two options: (1) A defaulted string (myString),
and (2) A required file path.</p>
<p>Once the options are defined, they can be accessed via the <code class="docutils literal notranslate"><span class="pre">parsed_options</span></code> property of the task.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>When the nested <code class="docutils literal notranslate"><span class="pre">Options</span></code> class is defined within your custom task (or is part of a class you inherit from), it restricts modifications to the <code class="docutils literal notranslate"><span class="pre">options</span></code> property of the task, making it read-only. To make any changes, you should instead modify the <code class="docutils literal notranslate"><span class="pre">parsed_options</span></code> property rather than the <code class="docutils literal notranslate"><span class="pre">options</span></code> property.</p>
</div>
<p>Some of the most commonly used types are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code>: simply uses the type itself for validation by passing the value to Path(v);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FilePath</span></code>: like Path, but the path must exist and be a file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DirectoryPath</span></code>: like Path, but the path must exist and be a directory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MappingOption</span></code>: Parses pairs of values from a string in format “a:b,c:d”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ListOfStringsOption</span></code>: Parses a list of comma-separated strings from an argument in the format “abc,def,ghi”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JSON</span></code>: Parse a JSON string into a structure, including a deeply nested structure</p></li>
</ul>
<p>Others can be found in the <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/types">pydantic docs</a>.</p>
<p>If you are comfortable with Python types, you can do very sophisticated parsing.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">Json</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">cumulusci.core.tasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseTask</span><span class="p">,</span> <span class="n">CCIOptions</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cumulusci.utils.options</span><span class="w"> </span><span class="kn">import</span> <span class="n">Field</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">CCIOptions</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">children</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Person&quot;</span><span class="p">]]</span>


<span class="n">People</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Person</span><span class="p">]</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ComplexOptionsCustomTask</span><span class="p">(</span><span class="n">BaseTask</span><span class="p">):</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Options</span><span class="p">(</span><span class="n">CCIOptions</span><span class="p">):</span>
        <span class="n">lineage</span><span class="p">:</span> <span class="n">Json</span><span class="p">[</span><span class="n">People</span><span class="p">]</span> <span class="o">|</span> <span class="n">People</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Foo&quot;</span><span class="p">)</span>

    <span class="n">parsed_options</span><span class="p">:</span> <span class="n">Options</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_run_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_options</span><span class="o">.</span><span class="n">lineage</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Which can parse this commmand line:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>complex_options<span class="w"> </span>--lineage<span class="w"> </span><span class="s1">&#39;{&quot;Bob&quot;: {&quot;name&quot;: &quot;Bob Cat Sr&quot;, &quot;children&quot;: {&quot;Bob&quot;: {&quot;name&quot;: &quot;Bob Cat Jr&quot;}}}}&#39;</span>
<span class="w">    </span>Got<span class="w"> </span><span class="o">{</span><span class="s1">&#39;Bob&#39;</span>:<span class="w"> </span>Person<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;Bob Cat Sr&#39;</span>,<span class="w"> </span><span class="nv">children</span><span class="o">={</span><span class="s1">&#39;Bob&#39;</span>:<span class="w"> </span>Person<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;Bob Cat Jr&#39;</span>,<span class="w"> </span><span class="nv">children</span><span class="o">=</span>None<span class="o">)})}</span>
</pre></div>
</div>
<p>Or this YAML:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">complex_options</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Description of the task</span>
<span class="w">    </span><span class="nt">class_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tasks.complex_options_custom_task.ComplexOptionsCustomTask</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">lineage</span><span class="p">:</span>
<span class="w">            </span><span class="nt">Bob</span><span class="p">:</span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bob Cat Sr</span>
<span class="w">                </span><span class="nt">children</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">Bob</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Bob Cat Jr</span>
</pre></div>
</div>
</section>
</section>
<section id="use-variables-for-task-options">
<span id="id3"></span><h3>Use Variables for Task Options<a class="headerlink" href="#use-variables-for-task-options" title="Link to this heading">¶</a></h3>
<p>To reference a project configuration value within the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> section of
the <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file, use the <code class="docutils literal notranslate"><span class="pre">$project_config</span></code> variable.</p>
<p>For example, NPSP uses a variable for the project’s namespace by
setting a value of <code class="docutils literal notranslate"><span class="pre">$project_config.project__package__namespace</span></code>. This
variable is then referenced in the project’s custom <code class="docutils literal notranslate"><span class="pre">deploy_qa_config</span></code>
task where it’s passed as the value for the <code class="docutils literal notranslate"><span class="pre">namespace_inject</span></code> option.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A double underscore (<code class="docutils literal notranslate"><span class="pre">__</span></code>) refers to a subsequent level in the
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">deploy_qa_config</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploys additional fields used for QA purposes only</span>
<span class="w">    </span><span class="nt">class_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cumulusci.tasks.salesforce.Deploy</span>
<span class="w">    </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Salesforce Metadata</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unpackaged/config/qa</span>
<span class="w">        </span><span class="nt">namespace_inject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$project_config.project__package__namespace</span>
</pre></div>
</div>
<p>In this instance, CumulusCI replaces the variable with the value under
project -&gt; package -&gt; namespace in the <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file. Here is
the <code class="docutils literal notranslate"><span class="pre">project</span></code> section of NPSP’s <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file specifying <code class="docutils literal notranslate"><span class="pre">npsp</span></code>
as the namespace value.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">project</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cumulus</span>
<span class="w">    </span><span class="nt">package</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cumulus</span>
<span class="w">        </span><span class="nt">name_managed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Nonprofit Success Pack</span>
<span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npsp</span>
<span class="w">        </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">48.0</span>
<span class="w">        </span><span class="nt">install_class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">STG_InstallScript</span>
<span class="w">        </span><span class="nt">uninstall_class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">STG_UninstallScript</span>
</pre></div>
</div>
</section>
</section>
<section id="flow-configurations">
<span id="id4"></span><h2>Flow Configurations<a class="headerlink" href="#flow-configurations" title="Link to this heading">¶</a></h2>
<p>Each flow configuration listed under the <code class="docutils literal notranslate"><span class="pre">flows</span></code> section of your
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file defines a flow that can be run using the
<code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">flow</span> <span class="pre">run</span></code> command, or included as a step in another flow. With a
few simple changes to this section, you can configure sophisticated
build automation that execute workflows throughout your development
lifecycle.</p>
<section id="add-a-custom-flow">
<h3>Add a Custom Flow<a class="headerlink" href="#add-a-custom-flow" title="Link to this heading">¶</a></h3>
<p>To define a new flow for your project, add the flow name under the
<code class="docutils literal notranslate"><span class="pre">flows</span></code> section of your <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file. Let’s define a new
<code class="docutils literal notranslate"><span class="pre">greet_and_sleep</span></code> flow:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">greet_and_sleep</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">projectName</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Greets the user and then sleeps for 5 seconds.</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">1</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">command</span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo &#39;Hello there!&#39;</span>
<span class="w">        </span><span class="nt">2</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">util_sleep</span>
</pre></div>
</div>
<p>This flow is comprised of two tasks: <code class="docutils literal notranslate"><span class="pre">command</span></code> greets the user by
echoing a string, and <code class="docutils literal notranslate"><span class="pre">util_sleep</span></code> then tells CumulusCI to sleep for
five seconds.</p>
<p>You can reference how flows are defined in the <a class="reference external" href="https://github.com/SFDO-Tooling/CumulusCI/blob/master/cumulusci/cumulusci.yml">universal
cumulusci.yml</a>
file.</p>
</section>
<section id="add-a-flow-step">
<h3>Add a Flow Step<a class="headerlink" href="#add-a-flow-step" title="Link to this heading">¶</a></h3>
<p>To add a step to a flow, first run <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">flow</span> <span class="pre">info</span> <span class="pre">&lt;name&gt;</span></code> to see the
existing steps. In the following example we run this for the <code class="docutils literal notranslate"><span class="pre">dev_org</span></code>
flow.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>flow<span class="w"> </span>info<span class="w"> </span>dev_org
<span class="go">Description: Set up an org as a development environment for unmanaged metadata</span>
<span class="go">1) flow: dependencies [from current folder]</span>
<span class="go">    1) task: update_dependencies</span>
<span class="go">    2) task: deploy_pre</span>
<span class="go">2) flow: deploy_unmanaged</span>
<span class="go">    0) task: dx_convert_from</span>
<span class="go">    when: project_config.project__source_format == &quot;sfdx&quot; and not org_config.scratch</span>
<span class="go">    1) task: unschedule_apex</span>
<span class="go">    2) task: update_package_xml</span>
<span class="go">    when: project_config.project__source_format != &quot;sfdx&quot; or not org_config.scratch</span>
<span class="go">    3) task: deploy</span>
<span class="go">    when: project_config.project__source_format != &quot;sfdx&quot; or not org_config.scratch</span>
<span class="go">    3.1) task: dx_push</span>
<span class="go">        when: project_config.project__source_format == &quot;sfdx&quot; and org_config.scratch</span>
<span class="go">    4) task: uninstall_packaged_incremental</span>
<span class="go">    when: project_config.project__source_format != &quot;sfdx&quot; or not org_config.scratch</span>
<span class="go">3) flow: config_dev</span>
<span class="go">    1) task: deploy_post</span>
<span class="go">    2) task: update_admin_profile</span>
<span class="go">4) task: snapshot_changes</span>
</pre></div>
</div>
<p>Of this flow’s four steps, the first three are themselves flows, and
the last is a task.</p>
<p>All <em>non-negative numbers and decimals</em> are valid as step numbers in a
flow. You can add steps before, between, or after existing flow steps.</p>
<p>The following shows examples of values that you would use for the
various scenarios:</p>
<ul class="simple">
<li><p>Add a step <em>before</em> step 1 by inserting a step number greater than
or equal to zero and less than 1 (such as 0, 0.3, or even 0.89334).</p></li>
<li><p>Add a step <em>between</em> steps 2 and 3 by inserting a step number
greater than 2 or less than 3.</p></li>
<li><p>Add a step <em>after</em> all steps in the flow by inserting a step number
greater than 4.</p></li>
</ul>
<p>You could also customize the <code class="docutils literal notranslate"><span class="pre">dev_org</span></code> flow to output an additional log
line as its final step:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dev_org</span><span class="p">:</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">5</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">log</span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span>
<span class="w">                </span><span class="nt">line</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev_org flow has completed</span>
</pre></div>
</div>
</section>
<section id="skip-a-flow-step">
<h3>Skip a Flow Step<a class="headerlink" href="#skip-a-flow-step" title="Link to this heading">¶</a></h3>
<p>To skip a flow step, set the task or flow for that step number to the
value of <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>For example, to skip the fourth step of the <code class="docutils literal notranslate"><span class="pre">dev_org</span></code> flow, insert this
code under the <code class="docutils literal notranslate"><span class="pre">flows</span></code> section of your <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dev_org</span><span class="p">:</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">4</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The key <code class="docutils literal notranslate"><span class="pre">task</span></code> must be used when skipping a flow step that is a task.
The key <code class="docutils literal notranslate"><span class="pre">flow</span></code> must be used when skipping a flow step that corresponds
to a flow.</p>
</div>
<p>When CumulusCI detects a task or flow with a value of <code class="docutils literal notranslate"><span class="pre">None</span></code>, the task
or flow is skipped.</p>
<p><img alt="image" src="_images/skipping_task.png" /></p>
</section>
<section id="replace-a-flow-step">
<h3>Replace a Flow Step<a class="headerlink" href="#replace-a-flow-step" title="Link to this heading">¶</a></h3>
<p>Replacing a flow step is easy; just note the name of the flow, step
number, and task or flow you would like to run on the given step.</p>
<p>For example, to replace the default fourth step of the <code class="docutils literal notranslate"><span class="pre">dev_org</span></code> flow
with a custom task that loads data into a dev environment, specify the
custom task to run instead.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dev_org</span><span class="p">:</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">4</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">load_data_dev</span>
</pre></div>
</div>
</section>
<section id="configure-options-on-tasks-in-flows">
<span id="id5"></span><h3>Configure Options on Tasks in Flows<a class="headerlink" href="#configure-options-on-tasks-in-flows" title="Link to this heading">¶</a></h3>
<p>Specify options on specific tasks in a flow with this syntax:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;flow_to_modify&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">&lt;step_number&gt;</span><span class="p">:</span>
<span class="w">            </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;sub_flow_name&gt;</span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span>
<span class="w">                </span><span class="nt">&lt;task&gt;</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">&lt;option_name&gt;</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
</pre></div>
</div>
<p>Replace all objects with <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> with the desired values.</p>
<p>For example, let’s examine the definition of the <code class="docutils literal notranslate"><span class="pre">ci_master</span></code> flow from
the universal <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ci_master</span><span class="p">:</span>
    <span class="n">group</span><span class="p">:</span> <span class="n">Continuous</span> <span class="n">Integration</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Deploy</span> <span class="n">the</span> <span class="n">package</span> <span class="n">metadata</span> <span class="n">to</span> <span class="n">the</span> <span class="n">packaging</span> <span class="n">org</span> <span class="ow">and</span> <span class="n">prepare</span> <span class="k">for</span> <span class="n">managed</span> <span class="n">package</span> <span class="n">version</span> <span class="n">upload</span><span class="o">.</span>  <span class="n">Intended</span> <span class="k">for</span> <span class="n">use</span> <span class="n">against</span> <span class="n">main</span> <span class="n">branch</span> <span class="n">commits</span><span class="o">.</span>
    <span class="n">steps</span><span class="p">:</span>
        <span class="mi">1</span><span class="p">:</span>
            <span class="n">flow</span><span class="p">:</span> <span class="n">dependencies</span>
            <span class="n">options</span><span class="p">:</span>
                <span class="n">update_dependencies</span><span class="p">:</span>
                    <span class="n">resolution_strategy</span><span class="p">:</span> <span class="n">production</span>
        <span class="mi">2</span><span class="p">:</span>
            <span class="n">flow</span><span class="p">:</span> <span class="n">deploy_packaging</span>
        <span class="mi">3</span><span class="p">:</span>
            <span class="n">flow</span><span class="p">:</span> <span class="n">config_packaging</span>
</pre></div>
</div>
<p>This flow specifies that when the subflow <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> runs, the
<code class="docutils literal notranslate"><span class="pre">resolution_strategy</span></code> option has a value of <code class="docutils literal notranslate"><span class="pre">production</span></code> for the
<code class="docutils literal notranslate"><span class="pre">update_dependencies</span></code> task (which itself executes in the <code class="docutils literal notranslate"><span class="pre">dependencies</span></code>
subflow).</p>
</section>
<section id="when-clauses">
<h3><code class="docutils literal notranslate"><span class="pre">when</span></code> Clauses<a class="headerlink" href="#when-clauses" title="Link to this heading">¶</a></h3>
<p>Specify a <code class="docutils literal notranslate"><span class="pre">when</span></code> clause in a flow step to conditionally run that step. A
<code class="docutils literal notranslate"><span class="pre">when</span></code> clause is written in a Pythonic syntax that should evaluate to a
boolean (<code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>) result.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">project_config</span></code> object to reference values from the
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file to help with creation of the <code class="docutils literal notranslate"><span class="pre">when</span></code> clause’s
condition. You can use the double underscore (<code class="docutils literal notranslate"><span class="pre">__</span></code>) syntax to indicate
values at subsequent levels of the file. For example, you can reference
a project’s namespace with
<code class="docutils literal notranslate"><span class="pre">project_config.project__package__namespace</span></code>.</p>
<p>You can also reference values on the <code class="docutils literal notranslate"><span class="pre">org_config</span></code> object in <code class="docutils literal notranslate"><span class="pre">when</span></code>
clauses. For example, it’s common to reference <code class="docutils literal notranslate"><span class="pre">org_config.scratch</span></code>
when building automation that needs to behave differently in a scratch
org and a persistent org.</p>
<p><code class="docutils literal notranslate"><span class="pre">when</span></code> clauses are frequently used in CumulusCI’s standard library to
conditionally run a step in a flow based on the source code format of
the project. Below is the configuration for the standard library flow
<code class="docutils literal notranslate"><span class="pre">build_feature_test_package</span></code>. The <code class="docutils literal notranslate"><span class="pre">update_package_xml</span></code> task will execute
<em>only if</em> the project’s source code format is not equal to “<code class="docutils literal notranslate"><span class="pre">sfdx</span></code>”.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">build_feature_test_package</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Release Operations</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create a 2gp managed package version</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">1</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">update_package_xml</span>
<span class="w">            </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">project_config.project__source_format != &quot;sfdx&quot;</span>
<span class="w">        </span><span class="nt">2</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">create_package_version</span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span>
<span class="w">                </span><span class="nt">package_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Managed</span>
<span class="w">                </span><span class="nt">package_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$project_config.project__package__name Managed Feature Test</span>
<span class="w">                </span><span class="nt">version_base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">latest_github_release</span>
<span class="w">                </span><span class="nt">version_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">minor</span>
<span class="w">                </span><span class="nt">skip_validation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#use-variables-for-task-options"><span class="std std-ref">Use Variables for Task Options</span></a>
for more information.</p>
</section>
<section id="tasks-and-flows-from-a-different-project">
<span id="id6"></span><h3>Tasks and Flows from a Different Project<a class="headerlink" href="#tasks-and-flows-from-a-different-project" title="Link to this heading">¶</a></h3>
<p>It’s also possible to use tasks and flows from another project with
CumulusCI. The other project must be named under the <code class="docutils literal notranslate"><span class="pre">sources</span></code> section
of the project <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<p>For example, when tasks or flows are referenced using the <code class="docutils literal notranslate"><span class="pre">npsp</span></code>
namespace, CumulusCI fetches the source from the NPSP GitHub repository.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sources</span><span class="p">:</span>
<span class="w">    </span><span class="nt">npsp</span><span class="p">:</span>
<span class="w">        </span><span class="nt">github</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/SalesforceFoundation/NPSP</span>
</pre></div>
</div>
<p>By default, CumulusCI uses the resolution strategy <code class="docutils literal notranslate"><span class="pre">production</span></code>, which
will fetch the most recent production release, or the default branch if
there are no releases. By specifying <code class="docutils literal notranslate"><span class="pre">resolution_strategy</span></code>, the behavior
can be changed to match desired dependency resolution behavior, such as
using beta releases or retrieving feature test packages from a commit
status. See <a class="reference internal" href="dev.html#controlling-github-dependency-resolution"><span class="std std-ref">Controlling GitHub Dependency Resolution</span></a> for
more details about resolution strategies.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature requires that the referenced repository be readable (for
example, it’s public, or CumulusCI’s GitHub service is configured with
the token of a user who has read access to it).</p>
</div>
<p>It’s also possible to fetch a specific <code class="docutils literal notranslate"><span class="pre">tag</span></code> or <code class="docutils literal notranslate"><span class="pre">release</span></code>, where <code class="docutils literal notranslate"><span class="pre">release</span></code> is one of <code class="docutils literal notranslate"><span class="pre">latest</span></code>, <code class="docutils literal notranslate"><span class="pre">previous</span></code>, or <code class="docutils literal notranslate"><span class="pre">latest_beta</span></code>. For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sources</span><span class="p">:</span>
<span class="w">    </span><span class="nt">eda</span><span class="p">:</span>
<span class="w">        </span><span class="nt">github</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/SalesforceFoundation/EDA</span>
<span class="w">        </span><span class="nt">release</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
<span class="w">    </span><span class="nt">npsp</span><span class="p">:</span>
<span class="w">        </span><span class="nt">github</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/SalesforceFoundation/NPSP</span>
<span class="w">        </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rel/3.163</span>
</pre></div>
</div>
<p>You can also select a specific <code class="docutils literal notranslate"><span class="pre">commit</span></code> or <code class="docutils literal notranslate"><span class="pre">branch</span></code>. We recommend that most projects, however, use a resolution strategy.</p>
<p>When the repo is listed under <code class="docutils literal notranslate"><span class="pre">sources</span></code>, it’s possible to run a task
from NPSP…</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>npsp:robot
</pre></div>
</div>
<p>Or a flow…</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span>npsp:install_prod
</pre></div>
</div>
<p>Or even create a new flow that uses a flow from NPSP:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">flows</span><span class="p">:</span>
<span class="w">    </span><span class="nt">install_npsp</span><span class="p">:</span>
<span class="w">        </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">            </span><span class="nt">1</span><span class="p">:</span>
<span class="w">                </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npsp:install_prod</span>
<span class="w">            </span><span class="nt">2</span><span class="p">:</span>
<span class="w">                </span><span class="nt">flow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev_org</span>
</pre></div>
</div>
<p>This flow uses NPSP’s <code class="docutils literal notranslate"><span class="pre">install_prod</span></code> flow to install NPSP as a managed
package, and then run this project’s own <code class="docutils literal notranslate"><span class="pre">dev_org</span></code> flow.</p>
<p>If the flow uses tasks that are implemented in custom Python code
(see <a class="reference internal" href="#add-a-custom-task">Add a Custom Task</a>)
then you must instruct CumulusCI to allow that code to run:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sources</span><span class="p">:</span>
<span class="w">    </span><span class="nt">eda</span><span class="p">:</span>
<span class="w">        </span><span class="nt">github</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/SalesforceFoundation/EDA</span>
<span class="w">        </span><span class="nt">allow_remote_code</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</section>
</section>
<section id="scratch-org-configurations">
<span id="id7"></span><h2>Scratch Org Configurations<a class="headerlink" href="#scratch-org-configurations" title="Link to this heading">¶</a></h2>
<p>This section defines the scratch org configurations that are available
without explicitly running <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">org</span> <span class="pre">scratch</span></code> to create a new
configuration. For more information on using scratch orgs with
CumulusCI, see <a class="reference internal" href="scratch-orgs.html"><span class="doc std std-doc">Manage Scratch Orgs</span></a>.</p>
<section id="override-default-values">
<h3>Override Default Values<a class="headerlink" href="#override-default-values" title="Link to this heading">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These overrides pertain only to scratch orgs.</p>
</div>
<p>You can override these values for your org.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">days</span></code> (integer): Number of days for the scratch org to persist.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">namespaced</span></code> (boolean): Is the scratch org namespaced or not.
Applies only to managed package projects.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config_file</span></code> (string): Path to the org definition file to use when
building the scratch org.</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">orgs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">scratch</span><span class="p">:</span>
<span class="w">        </span><span class="nt">&lt;org_name&gt;</span><span class="p">:</span>
<span class="w">            </span><span class="nt">&lt;key&gt;</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
</pre></div>
</div>
<p>Replace all objects with <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> with the desired values.</p>
<p>For example, override the default number of days from 7 to 15 in the
<code class="docutils literal notranslate"><span class="pre">dev</span></code> org.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">orgs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">        </span><span class="nt">days</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
</pre></div>
</div>
</section>
</section>
<section id="configuration-scopes">
<h2>Configuration Scopes<a class="headerlink" href="#configuration-scopes" title="Link to this heading">¶</a></h2>
<p>CumulusCI merges multiple <a class="reference external" href="https://yaml.org/">YAML</a> files that enable
configuration at several distinct scopes. All of these files have the
same name, <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code>, but live in different locations in the file
system.</p>
<p>You can configure files at these scope levels: <em>Project</em>, <em>Local
Project</em> and <em>Global</em>. Configurations have an order of override
precedence (from highest to lowest):</p>
<ol class="arabic simple">
<li><p>Project</p></li>
<li><p>Local Project</p></li>
<li><p>Global</p></li>
</ol>
<p>One override only cascades over another when two configurations set a
value for the same element on a task or flow.</p>
<p>Take for example, task <code class="docutils literal notranslate"><span class="pre">T</span></code> which takes two options, <code class="docutils literal notranslate"><span class="pre">opt1</span></code> and <code class="docutils literal notranslate"><span class="pre">opt2</span></code>.</p>
<p>You can specify a default value for <code class="docutils literal notranslate"><span class="pre">opt1</span></code> in your project
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file and a default value for <code class="docutils literal notranslate"><span class="pre">opt2</span></code> in your global
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file, and you’ll see the expected result: both values
are available in the project. (The default of <code class="docutils literal notranslate"><span class="pre">opt1</span></code> is not exposed to
other projects.)</p>
<p>If you change your project <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file to also specify a
default value for <code class="docutils literal notranslate"><span class="pre">opt2</span></code>, this new default <code class="docutils literal notranslate"><span class="pre">opt2</span></code> value takes precedence
over the default <code class="docutils literal notranslate"><span class="pre">opt2</span></code> value specified in your global <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code>
file.</p>
<section id="project-configurations">
<h3>Project Configurations<a class="headerlink" href="#project-configurations" title="Link to this heading">¶</a></h3>
<p><strong>macOS/Linux:</strong> <code class="docutils literal notranslate"><span class="pre">.../path/to/project/cumulusci.yml</span></code></p>
<p><strong>Windows:</strong> <code class="docutils literal notranslate"><span class="pre">...\path\to\project\cumulusci.yml</span></code></p>
<p>This <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file lives in the project root directory and
applies solely to this project. Changes here are committed back to a
remote repository so other team members can benefit from the
customizations. Configurations in this file apply solely to this
project, and take precedence over any configurations specified in the
global <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file, but are overridden by configurations in the
local project <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
</section>
<section id="local-project-configurations">
<h3>Local Project Configurations<a class="headerlink" href="#local-project-configurations" title="Link to this heading">¶</a></h3>
<p><strong>macOS/Linux:</strong> <code class="docutils literal notranslate"><span class="pre">~/.cumulusci/project_name/cumulusci.yml</span></code></p>
<p><strong>Windows:</strong> <code class="docutils literal notranslate"><span class="pre">%homepath%\.cumulusci\project_name\cumulusci.yml</span></code></p>
<p>Configurations in this <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file apply solely to the project
with the given &lt;project<em>name&gt;, and take precedence over _all other</em>
configuration scopes. If you want to make customizations to a project,
but don’t need them to be available to other team members, make those
customizations here.</p>
</section>
<section id="global-configurations">
<h3>Global Configurations<a class="headerlink" href="#global-configurations" title="Link to this heading">¶</a></h3>
<p><strong>macOS/Linux:</strong> <code class="docutils literal notranslate"><span class="pre">~/.cumulusci/cumulusci.yml</span></code></p>
<p><strong>Windows:</strong> <code class="docutils literal notranslate"><span class="pre">%homepath%\.cumulusci\cumulusci.yml</span></code></p>
<p>Configuration of <em>all</em> CumulusCI projects on your machine.
Configurations in this file have a low precedence, and are overridden by
<em>all other</em> configurations except for those that are in the universal
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
</section>
<section id="universal-configurations">
<h3>Universal Configurations<a class="headerlink" href="#universal-configurations" title="Link to this heading">¶</a></h3>
<p>There is one more configuration file that exists: the <a class="reference external" href="https://github.com/SFDO-Tooling/CumulusCI/blob/master/cumulusci/cumulusci.yml">universal
cumulusci.yml</a>
file that ships with CumulusCI itself. This file actually holds the
lowest precedence of all, as all other scopes override this file’s
contents. That said, it contains all of the definitions for the tasks,
flows, and org configurations that come standard with CumulusCI.</p>
<p>The commands <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">info</span></code> and <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">flow</span> <span class="pre">info</span></code> display all of the
information about a task’s or flow’s configuration. They display the
information in the standard library alongside any customizations defined
in your cumulusci.yml file.</p>
</section>
</section>
<section id="advanced-configurations">
<h2>Advanced Configurations<a class="headerlink" href="#advanced-configurations" title="Link to this heading">¶</a></h2>
<section id="customizing-metadata-deployment">
<h3>Customizing Metadata Deployment<a class="headerlink" href="#customizing-metadata-deployment" title="Link to this heading">¶</a></h3>
<p>CumulusCI’s <code class="docutils literal notranslate"><span class="pre">deploy</span></code> task offers deep flexibility to customize your deployment process. Review <a class="reference internal" href="deploy.html#configure-metadata-deployment"><span class="std std-ref">Configure Metadata Deployment</span></a> for an in-depth guide.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Configure Metadata Deployment</a></li>
</ul>
</div>
</section>
<section id="reference-task-return-values">
<h3>Reference Task Return Values<a class="headerlink" href="#reference-task-return-values" title="Link to this heading">¶</a></h3>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Current task return values are <em>not</em> documented, so finding return
values set by a specific task (if any) requires you to read the source
code for the given task.</p>
</div>
<p>It is sometimes useful for return values to be used as input by a
subsequent task in the context of a flow. Tasks can set arbitrary return
values on themselves while executing. These values can then be
referenced by subsequent tasks in a flow.</p>
<p>To reference a return value on a previous task use the following syntax:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">^^prior_task.return_value</span>
</pre></div>
</div>
<p>To discover what’s available for <code class="docutils literal notranslate"><span class="pre">return_value</span></code>, find the source code
for an individual task in the <a class="reference external" href="https://github.com/SFDO-Tooling/CumulusCI/">CumulusCI
repository</a>.</p>
<p>For example, let’s examine how CumulusCI defines the standard
<code class="docutils literal notranslate"><span class="pre">upload_beta</span></code> task in the universal <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">upload_beta</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Uploads a beta release of the metadata currently in the packaging org</span>
<span class="w">    </span><span class="nt">class_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cumulusci.tasks.salesforce.PackageUpload</span>
<span class="w">    </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Release Operations</span>
</pre></div>
</div>
<p>To see if anything is being set on <code class="docutils literal notranslate"><span class="pre">self.return_values</span></code>, find the file
that defines the class <code class="docutils literal notranslate"><span class="pre">cumulusci.tasks.salesforce.PackageUpload</span></code>. A
little digging yields that this class is defined in the file
<a class="reference external" href="https://github.com/SFDO-Tooling/CumulusCI/blob/main/cumulusci/tasks/salesforce/package_upload.py">package_upload.py</a>
and has a method called <code class="docutils literal notranslate"><span class="pre">_set_return_values()</span></code>. <a class="reference external" href="https://github.com/SFDO-Tooling/CumulusCI/blob/3cad07ac1cecf438aaf087cdeff7b781a1fc74a1/cumulusci/tasks/salesforce/package_upload.py##L165">This
method</a>
sets <code class="docutils literal notranslate"><span class="pre">self.return_values</span></code> to a dictionary with these keys:
<code class="docutils literal notranslate"><span class="pre">version_number</span></code>, <code class="docutils literal notranslate"><span class="pre">version_id</span></code>, and <code class="docutils literal notranslate"><span class="pre">package_id</span></code>.</p>
<p>Now look at the standard <code class="docutils literal notranslate"><span class="pre">release_unlocked_production</span></code> flow defined in the universal
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">release_unlocked_production</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Release Operations</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Promote the latest beta 2GP unlocked package version and create a new release in GitHub</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">1</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">promote_package_version</span>
<span class="w">        </span><span class="nt">2</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_release</span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span>
<span class="w">                </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^^promote_package_version.version_number</span>
<span class="w">                </span><span class="nt">version_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^^promote_package_version.version_id</span>
<span class="w">                </span><span class="nt">dependencies</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^^promote_package_version.dependencies</span>
<span class="w">                </span><span class="nt">package_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2GP</span>
<span class="w">                </span><span class="nt">tag_prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$project_config.project__git__prefix_release</span>
<span class="w">        </span><span class="nt">3</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_release_notes</span>
<span class="w">            </span><span class="nt">ignore_failure</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span>
<span class="w">                </span><span class="nt">publish</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">                </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^^github_release.tag_name</span>
<span class="w">                </span><span class="nt">version_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^^promote_package_version.version_id</span>
</pre></div>
</div>
<p>This flow shows how subsequent tasks can reference the return values of
a prior task. In this case, the <code class="docutils literal notranslate"><span class="pre">github_release</span></code> task uses the
<code class="docutils literal notranslate"><span class="pre">version_numer</span></code> set by the <code class="docutils literal notranslate"><span class="pre">promote_package_version</span></code> task as an option value
with the <code class="docutils literal notranslate"><span class="pre">^^promote_package_version.version_number</span></code> syntax. Here, <code class="docutils literal notranslate"><span class="pre">dependencies</span></code>
is of type list and it uses the list from <code class="docutils literal notranslate"><span class="pre">promote_package_version</span></code> task as an
option value with <code class="docutils literal notranslate"><span class="pre">^^promote_package_version.dependencies</span></code> syntax.</p>
<p>Similarly, the <code class="docutils literal notranslate"><span class="pre">github_release_notes</span></code> task uses the <code class="docutils literal notranslate"><span class="pre">version_id</span></code> set by the
<code class="docutils literal notranslate"><span class="pre">promote_package_version</span></code> task as an option value with the
<code class="docutils literal notranslate"><span class="pre">^^promote_package_version.version_number</span></code> syntax and uses the <code class="docutils literal notranslate"><span class="pre">tag</span></code> set by
<code class="docutils literal notranslate"><span class="pre">github_release</span></code> task as an option value with the <code class="docutils literal notranslate"><span class="pre">^^github_release.tag_name</span></code>
syntax.</p>
<p>The below <code class="docutils literal notranslate"><span class="pre">example_flow</span></code> shows how the task options of type list CANNOT be used.
Here, <code class="docutils literal notranslate"><span class="pre">update_dependencies</span></code> task does not set the task option <code class="docutils literal notranslate"><span class="pre">dependencies</span></code>
as the list of values from the prior tasks. Similarly, task options of type
dictionary cannot be set as key value pairs from the prior tasks.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">example_flow</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">You cannot make a list/dict with return values like below</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">        </span><span class="nt">1</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_latest_version_example</span>
<span class="w">        </span><span class="nt">2</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_old_version_example</span>
<span class="w">        </span><span class="nt">3</span><span class="p">:</span>
<span class="w">            </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">update_dependencies</span>
<span class="w">            </span><span class="nt">options</span><span class="p">:</span>
<span class="w">                </span><span class="nt">dependencies</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">latest_version_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^^get_latest_version_example.version_id</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">version_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^^get_old_version_example.version_id</span>
<span class="w">                </span><span class="nt">packages_only</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</section>
</section>
<section id="troubleshoot-configurations">
<h2>Troubleshoot Configurations<a class="headerlink" href="#troubleshoot-configurations" title="Link to this heading">¶</a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">info</span> <span class="pre">&lt;name&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">flow</span> <span class="pre">info</span> <span class="pre">&lt;name&gt;</span></code> to see how a given
task or flow behaves with current configurations.</p>
<p>For example, the <code class="docutils literal notranslate"><span class="pre">util_sleep</span></code> task has a <code class="docutils literal notranslate"><span class="pre">seconds</span></code> option with a default
value of 5 seconds.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>info<span class="w"> </span>util_sleep
<span class="go">util_sleep</span>

<span class="go">Description: Sleeps for N seconds</span>

<span class="go">Class: cumulusci.tasks.util.Sleep</span>

<span class="go">Command Syntax</span>

<span class="gp">    $ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>util_sleep

<span class="go">Options</span>

<span class="go">    -o seconds SECONDS</span>
<span class="go">    Required</span>
<span class="go">    The number of seconds to sleep</span>
<span class="go">    Default: 5</span>
</pre></div>
</div>
<p>To change the default value to 30 seconds for all projects on your
machine, add the desired value in your <a class="reference internal" href="#global-configurations"><span class="std std-ref">global</span></a>
<code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">util_sleep</span><span class="p">:</span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span>
<span class="w">            </span><span class="nt">seconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
</pre></div>
</div>
<p>Now <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">info</span> <span class="pre">util_sleep</span></code> shows a default of 30 seconds.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cci<span class="w"> </span>task<span class="w"> </span>info<span class="w"> </span>util_sleep
<span class="go">util_sleep</span>

<span class="go">Description: Sleeps for N seconds</span>

<span class="go">Class: cumulusci.tasks.util.Sleep</span>

<span class="go">Command Syntax</span>

<span class="gp">    $ </span>cci<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span>util_sleep

<span class="go">Options</span>

<span class="go">    -o seconds SECONDS</span>
<span class="go">    Required</span>
<span class="go">    The number of seconds to sleep</span>
<span class="go">    Default: 30</span>
</pre></div>
</div>
<p>Displaying the active configuration for a given task or flow can help
with cross-correlating which configuration scope affects a specific
scenario.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">task</span> <span class="pre">info</span></code> and <code class="docutils literal notranslate"><span class="pre">cci</span> <span class="pre">flow</span> <span class="pre">info</span></code> commands show information about
how a task or flow is <em>currently</em> configured. The information output by
these commands change as you make further customizations to your
project’s <code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> file.</p>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="deploy.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Configure Metadata Deployment</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="cli.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">The <code class="docutils literal notranslate"><span class="pre">cci</span></code> Command Line</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Salesforce.org
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Configure CumulusCI</a><ul>
<li><a class="reference internal" href="#cumulusci-yml-structure"><code class="docutils literal notranslate"><span class="pre">cumulusci.yml</span></code> Structure</a></li>
<li><a class="reference internal" href="#task-configurations">Task Configurations</a><ul>
<li><a class="reference internal" href="#override-a-task-option">Override a Task Option</a></li>
<li><a class="reference internal" href="#add-a-custom-task">Add a Custom Task</a></li>
<li><a class="reference internal" href="#custom-tasks-in-python">Custom Tasks in Python</a><ul>
<li><a class="reference internal" href="#options-for-custom-tasks">Options for Custom Tasks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-variables-for-task-options">Use Variables for Task Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#flow-configurations">Flow Configurations</a><ul>
<li><a class="reference internal" href="#add-a-custom-flow">Add a Custom Flow</a></li>
<li><a class="reference internal" href="#add-a-flow-step">Add a Flow Step</a></li>
<li><a class="reference internal" href="#skip-a-flow-step">Skip a Flow Step</a></li>
<li><a class="reference internal" href="#replace-a-flow-step">Replace a Flow Step</a></li>
<li><a class="reference internal" href="#configure-options-on-tasks-in-flows">Configure Options on Tasks in Flows</a></li>
<li><a class="reference internal" href="#when-clauses"><code class="docutils literal notranslate"><span class="pre">when</span></code> Clauses</a></li>
<li><a class="reference internal" href="#tasks-and-flows-from-a-different-project">Tasks and Flows from a Different Project</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scratch-org-configurations">Scratch Org Configurations</a><ul>
<li><a class="reference internal" href="#override-default-values">Override Default Values</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-scopes">Configuration Scopes</a><ul>
<li><a class="reference internal" href="#project-configurations">Project Configurations</a></li>
<li><a class="reference internal" href="#local-project-configurations">Local Project Configurations</a></li>
<li><a class="reference internal" href="#global-configurations">Global Configurations</a></li>
<li><a class="reference internal" href="#universal-configurations">Universal Configurations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-configurations">Advanced Configurations</a><ul>
<li><a class="reference internal" href="#customizing-metadata-deployment">Customizing Metadata Deployment</a></li>
<li><a class="reference internal" href="#reference-task-return-values">Reference Task Return Values</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshoot-configurations">Troubleshoot Configurations</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=dac0bbfe"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>